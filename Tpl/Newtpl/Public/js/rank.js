(function(a,b){function k(a,b,f){if(d[a])throw new Error("Module "+a+" has been defined already.");c(b)&&(f=b),d[a]={factory:f,inited:!1},a===e&&j(a)}function j(a){var e={},f=d[a];if(c(d[a].factory)){var g=d[a].factory.apply(b,[i,e,b]);f.ret=g===b?e:g}else f.ret=d[a].factory;f.inited=!0}function i(a){if(!d[a])throw new Error("Module "+a+" is not defined.");var b=d[a];b.inited===!1&&j(a);return b.ret}function c(a){return Object.prototype.toString.call(a)==="[object Function]"}if(!a.define){var d={},e=null,f=document.getElementsByTagName("script");for(var g=0,h=f.length;g<h&&!e;g++)e=f[g].getAttribute("data-main");if(!e)throw new Error("No data-main attribute in script tag.");a.define=k}})(window);define("common/nav/Nav",function(a,b,c){function l(){CONFIG.islogined==!0&&(this.initUser(),this.initMessage()),this.initSearch(),this.initAchorBtn(),this.initCoin()}var d=a("basic/jquery"),e=a("basic/Util"),f=a("common/FloatWin/FloatWin"),g=a("common/NaviTip"),h=a("common/nav/Public"),i=a("message/Reminder"),j=a("common/nav/Edit"),k=a("common/Log/Logger");l.prototype.initUser=function(){var a=this;this.logout=d("#logout"),this.initUserPanel(),this.initUserNameEdit();var b=encodeURI(e.delQueStr(window.location.href,"username"));a.logout.attr("href","http://reg.163.com/Logout.jsp?url="+b+"&product=bobo")},l.prototype.initSearch=function(){var a=this;this.searchInput=d("#searchInput"),this.searchBtn=d("#searchBtn"),this.searchTips=d("#searchTips"),this.searchWraper=d("#searchWraper"),this.loginInfoShow=d("#loginInfoShow"),this.searchTips.click(function(){d(this).hide(),a.searchInput.focus(),a.searchWraper.addClass("search-active"),a.searchBtn.addClass("btn-search2")}),this.searchInput.click(function(){a.searchTips.hide(),d(this).focus(),a.searchWraper.addClass("search-active"),a.searchBtn.addClass("btn-search2")}),this.searchInput.blur(function(){var b=d(this).val();b==""&&a.searchTips.show()}),this.searchBtn.click(function(){var b=encodeURIComponent(a.searchInput.val());b!=""&&(window.location.href="/search/nick/hot?searchWord="+b);return!1}),this.searchWraper.hover(function(){d(this).addClass("search-hover"),a.searchTips.html("昵称、房号、家族"),a.searchTips.animate({width:180},"slow"),a.searchInput.animate({width:180},"slow")},function(){a.searchTips.html(""),a.searchTips.animate({width:75},"slow"),a.searchInput.animate({width:75},"slow"),d(this).removeClass("search-hover"),d(this).removeClass("search-active"),a.searchBtn.removeClass("btn-search2"),a.searchInput.blur()}),this.searchInput.keydown(function(b){if(b.keyCode==13){var c=encodeURIComponent(a.searchInput.val());c!=""&&(window.location.href="/search/nick/hot?searchWord="+c)}})},l.prototype.initAchorBtn=function(){d("body").delegate(".js-start-apply","click",function(){var a=d(this).attr("href");d.get("/anchor/isAnchorOkLive.do",function(b){b.status==1?window.location=a:g.show("您的申请正在审核,稍安勿躁！","error")});return!1})},l.prototype.initMessage=function(){new i},l.prototype.showEditPanel=function(){this.hideUserPanel(),this.loginEdit.show()},l.prototype.showUserPanel=function(){this.loginUserCenter.show()},l.prototype.hideUserPanel=function(){this.loginUserCenter.hide()},l.prototype.initUserPanel=function(){var a=this;this.loginInfoShow=d("#loginInfoShow"),this.loginUserCenter=d("#loginUserCenter"),a.loginInfoShow.hover(function(){a.showUserPanel(),k.triggerLog(d(this))},function(){a.hideUserPanel()}),this.loginUserCenter.mouseenter(function(){a.showUserPanel()}).mouseleave(function(){a.hideUserPanel()})},l.prototype.initUserNameEdit=function(){this.iconLogined=d("#iconLogined"),this.userNickName=d("#userNickName"),this.loginEdit=d("#loginEdit");var a=this;this.Edit=new j(a.userNickName.text()),this.Edit.callback=function(b){a.userNickName.text(b),d("#loginNickName").text(b)},a.iconLogined.click(function(){a.showEditPanel()})},l.prototype.initCoin=function(){var b=a("basic/Observer");b.subscribe({eventName:"buy:success",func:function(a){a[0]&&d("#loginCoin").text(a[0])}})};return new l});define("basic/jquery",function(a,b,c,d){function dc(a){return r.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function da(a,b){var c,d={height:a},e=0;b=b?1:0;for(;e<4;e+=2-b)c=bX[e],d["margin"+c]=d["padding"+c]=a;b&&(d.opacity=d.width=a);return d}function c_(a,b,c,d,e){return new c_.prototype.init(a,b,c,d,e)}function c$(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&b_(a);c.queue||(k=r._queueHooks(a,"fx"),k.unqueued==null&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,r.queue(a,"fx").length||k.empty.fire()})})),a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],r.css(a,"display")==="inline"&&r.css(a,"float")==="none"&&(!r.support.inlineBlockNeedsLayout||ce(a.nodeName)==="inline"?n.display="inline-block":n.zoom=1)),c.overflow&&(n.overflow="hidden",r.support.shrinkWrapBlocks||m.done(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b){f=b[d];if(cR.exec(f)){delete b[d],i=i||f==="toggle";if(f===(q?"hide":"show"))continue;p.push(d)}}g=p.length;if(g){h=r._data(a,"fxshow")||r._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?r(a).show():m.done(function(){r(a).hide()}),m.done(function(){var b;r.removeData(a,"fxshow",!0);for(b in o)r.style(a,b,o[b])});for(d=0;d<g;d++)e=p[d],j=m.createTween(e,q?h[e]:0),o[e]=h[e]||r.style(a,e),e in h||(h[e]=j.start,q&&(j.end=j.start,j.start=e==="width"||e==="height"?1:0))}}function cZ(a,b){var c,d,e,f,g;for(c in a){d=r.camelCase(c),e=b[d],f=a[c],r.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function cY(a,b,c){var d,e=0,f=0,g=cU.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){var b=cP||cW(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,e=1-d,f=0,g=j.tweens.length;for(;f<g;f++)j.tweens[f].run(e);h.notifyWith(a,[j,e,c]);if(e<1&&g)return c;h.resolveWith(a,[j]);return!1},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:cP||cW(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);j.tweens.push(e);return e},stop:function(b){var c=0,d=b?j.tweens.length:0;for(;c<d;c++)j.tweens[c].run(1);b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]);return this}}),k=j.props;cZ(k,j.opts.specialEasing);for(;e<g;e++){d=cU[e].call(j,a,k,j.opts);if(d)return d}cX(j,k),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),r.fx.timer(r.extend(i,{anim:j,queue:j.opts.queue,elem:a}));return j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cX(a,b){r.each(b,function(b,c){var d=(cV[b]||[]).concat(cV["*"]),e=0,f=d.length;for(;e<f;e++)if(d[e].call(a,b,c))return})}function cW(){setTimeout(function(){cP=d},0);return cP=r.now()}function cO(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function cN(){try{return new window.XMLHttpRequest}catch(a){}}function cF(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;a.dataFilter&&(b=a.dataFilter(b,a.dataType));if(g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if(e!=="*"){if(h!=="*"&&h!==e){c=i[h+" "+e]||i["* "+e];if(!c)for(d in i){f=d.split(" ");if(f[1]===e){c=i[h+" "+f[0]]||i["* "+f[0]];if(c){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}}}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function cE(a,b,c){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in c&&(b[k[f]]=c[f]);while(j[0]==="*")j.shift(),e===d&&(e=a.mimeType||b.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in c)g=j[0];else{for(f in c){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g){g!==j[0]&&j.unshift(g);return c[g]}}function cD(a,b){var c,e,f=r.ajaxSettings.flatOptions||{};for(c in b)b[c]!==d&&((f[c]?a:e||(e={}))[c]=b[c]);e&&r.extend(!0,a,e)}function cC(a,b,c,e,f,g){f=f||b.dataTypes[0],g=g||{},g[f]=!0;var h,i=a[f],j=0,k=i?i.length:0,l=a===cx;for(;j<k&&(l||!h);j++)h=i[j](b,c,e),typeof h=="string"&&(!l||g[h]?h=d:(b.dataTypes.unshift(h),h=cC(a,b,c,e,h,g)));(l||!h)&&!g["*"]&&(h=cC(a,b,c,e,"*",g));return h}function cB(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(u),h=0,i=g.length;if(r.isFunction(c))for(;h<i;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function ck(a,b,c,d){var e;if(r.isArray(b))r.each(b,function(b,e){c||cg.test(a)?d(a,e):ck(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&r.type(b)==="object")for(e in b)ck(a+"["+e+"]",b[e],c,d);else d(a,b)}function ce(a){if(bU[a])return bU[a];var b=r("<"+a+">").appendTo(g.body),c=b.css("display");b.remove();if(c==="none"||c===""){bK=g.body.appendChild(bK||r.extend(g.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!bL||!bK.createElement)bL=(bK.contentWindow||bK.contentDocument).document,bL.write("<!doctype html><html><body>"),bL.close();b=bL.body.appendChild(bL.createElement(a)),c=bJ(b,"display"),g.body.removeChild(bK)}bU[a]=c;return c}function cd(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=!0,f=r.support.boxSizing&&r.css(a,"boxSizing")==="border-box";if(d<=0||d==null){d=bJ(a,b);if(d<0||d==null)d=a.style[b];if(bS.test(d))return d;e=f&&(r.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+cc(a,b,c||(f?"border":"content"),e)+"px"}function cc(a,b,c,d){var e=c===(d?"border":"content")?4:b==="width"?1:0,f=0;for(;e<4;e+=2)c==="margin"&&(f+=r.css(a,c+bX[e],!0)),d?(c==="content"&&(f-=parseFloat(bJ(a,"padding"+bX[e]))||0),c!=="margin"&&(f-=parseFloat(bJ(a,"border"+bX[e]+"Width"))||0)):(f+=parseFloat(bJ(a,"padding"+bX[e]))||0,c!=="padding"&&(f+=parseFloat(bJ(a,"border"+bX[e]+"Width"))||0));return f}function cb(a,b,c){var d=bR.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function ca(a,b){var c,d,e=[],f=0,g=a.length;for(;f<g;f++){c=a[f];if(!c.style)continue;e[f]=r._data(c,"olddisplay"),b?(!e[f]&&c.style.display==="none"&&(c.style.display=""),c.style.display===""&&b_(c)&&(e[f]=r._data(c,"olddisplay",ce(c.nodeName)))):(d=bJ(c,"display"),!e[f]&&d!=="none"&&r._data(c,"olddisplay",d))}for(f=0;f<g;f++){c=a[f];if(!c.style)continue;if(!b||c.style.display==="none"||c.style.display==="")c.style.display=b?e[f]||"":"none"}return a}function b_(a,b){a=b||a;return r.css(a,"display")==="none"||!r.contains(a.ownerDocument,a)}function b$(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bY.length;while(e--){b=bY[e]+c;if(b in a)return b}return d}function bI(a){bx.test(a.type)&&(a.defaultChecked=a.checked)}function bH(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bG(a,b){var c;b.nodeType===1&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?(b.parentNode&&(b.outerHTML=a.outerHTML),r.support.html5Clone&&a.innerHTML&&!r.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):c==="input"&&bx.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(r.expando))}function bF(a,b){if(b.nodeType===1&&!!r.hasData(a)){var c,d,e,f=r._data(a),g=r._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)r.event.add(b,c,h[c][d])}g.data&&(g.data=r.extend({},g.data))}}function bE(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bm(a){var b=bn.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bl(a,b,c){b=b||0;if(r.isFunction(b))return r.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return r.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=r.grep(a,function(a){return a.nodeType===1});if(bg.test(b))return r.filter(b,d,!c);b=r.filter(b,d)}return r.grep(a,function(a,d){return r.inArray(a,b)>=0===c})}function bk(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function bj(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function bd(){return!0}function bc(){return!1}function M(a){var b;for(b in a){if(b==="data"&&r.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function L(a,b,c){if(c===d&&a.nodeType===1){var e="data-"+b.replace(K,"-$1").toLowerCase();c=a.getAttribute(e);if(typeof c=="string"){try{c=c==="true"?!0:c==="false"?!1:c==="null"?null:+c+""===c?+c:J.test(c)?r.parseJSON(c):c}catch(f){}r.data(a,b,c)}else c=d}return c}function I(a){var b=H[a]={};r.each(a.split(u),function(a,c){b[c]=!0});return b}var e,f,g=window.document,h=window.location,i=window.navigator,j=window.jQuery,k=window.$,l=Array.prototype.push,m=Array.prototype.slice,n=Array.prototype.indexOf,o=Object.prototype.toString,p=Object.prototype.hasOwnProperty,q=String.prototype.trim,r=function(a,b){return new r.fn.init(a,b,e)},s=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,t=/\S/,u=/\s+/,v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,y=/^[\],:{}\s]*$/,z=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,B=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,D=/-([\da-z])/gi,E=function(a,b){return(b+"").toUpperCase()},F=function(){g.addEventListener?(g.removeEventListener("DOMContentLoaded",F,!1),r.ready()):g.readyState==="complete"&&(g.detachEvent("onreadystatechange",F),r.ready())},G={};r.fn=r.prototype={constructor:r,init:function(a,b,c){var e,f,h,i;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?e=[null,a,null]:e=w.exec(a);if(e&&(e[1]||!b)){if(e[1]){b=b instanceof r?b[0]:b,i=b&&b.nodeType?b.ownerDocument||b:g,a=r.parseHTML(e[1],i,!0),x.test(e[1])&&r.isPlainObject(b)&&this.attr.call(a,b,!0);return r.merge(this,a)}f=g.getElementById(e[2]);if(f&&f.parentNode){if(f.id!==e[2])return c.find(a);this.length=1,this[0]=f}this.context=g,this.selector=a;return this}return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a)}if(r.isFunction(a))return c.ready(a);a.selector!==d&&(this.selector=a.selector,this.context=a.context);return r.makeArray(a,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return m.call(this)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=r.merge(this.constructor(),a);d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return r.each(this,a,b)},ready:function(a){r.ready.promise().done(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(m.apply(this,arguments),"slice",m.call(arguments).join(","))},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:[].sort,splice:[].splice},r.fn.init.prototype=r.fn,r.extend=r.fn.extend=function(){var a,b,c,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;typeof h=="boolean"&&(k=h,h=arguments[1]||{},i=2),typeof h!="object"&&!r.isFunction(h)&&(h={}),j===i&&(h=this,--i);for(;i<j;i++)if((a=arguments[i])!=null)for(b in a){c=h[b],e=a[b];if(h===e)continue;k&&e&&(r.isPlainObject(e)||(f=r.isArray(e)))?(f?(f=!1,g=c&&r.isArray(c)?c:[]):g=c&&r.isPlainObject(c)?c:{},h[b]=r.extend(k,g,e)):e!==d&&(h[b]=e)}return h},r.extend({noConflict:function(a){window.$===r&&(window.$=k),a&&window.jQuery===r&&(window.jQuery=j);return r},isReady:!1,readyWait:1,holdReady:function(a){a?r.readyWait++:r.ready(!0)},ready:function(a){if(a===!0?!--r.readyWait:!r.isReady){if(!g.body)return setTimeout(r.ready,1);r.isReady=!0;if(a!==!0&&--r.readyWait>0)return;f.resolveWith(g,[r]),r.fn.trigger&&r(g).trigger("ready").off("ready")}},isFunction:function(a){return r.type(a)==="function"},isArray:Array.isArray||function(a){return r.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):G[o.call(a)]||"object"},isPlainObject:function(a){if(!a||r.type(a)!=="object"||a.nodeType||r.isWindow(a))return!1;try{if(a.constructor&&!p.call(a,"constructor")&&!p.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}var c;for(c in a);return c===d||p.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;if(!a||typeof a!="string")return null;typeof b=="boolean"&&(c=b,b=0),b=b||g;if(d=x.exec(a))return[b.createElement(d[1])];d=r.buildFragment([a],b,c?null:[]);return r.merge([],(d.cacheable?r.clone(d.fragment):d.fragment).childNodes)},parseJSON:function(a){if(!a||typeof a!="string")return null;a=r.trim(a);if(window.JSON&&window.JSON.parse)return window.JSON.parse(a);if(y.test(a.replace(A,"@").replace(B,"]").replace(z,"")))return(new Function("return "+a))();r.error("Invalid JSON: "+a)},parseXML:function(a){var b,c;if(!a||typeof a!="string")return null;try{window.DOMParser?(c=new DOMParser,b=c.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(e){b=d}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&r.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&t.test(a)&&(window.execScript||function(a){window.eval.call(window,a)})(a)},camelCase:function(a){return a.replace(C,"ms-").replace(D,E)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,f=0,g=a.length,h=g===d||r.isFunction(a);if(c){if(h){for(e in a)if(b.apply(a[e],c)===!1)break}else for(;f<g;)if(b.apply(a[f++],c)===!1)break}else if(h){for(e in a)if(b.call(a[e],e,a[e])===!1)break}else for(;f<g;)if(b.call(a[f],f,a[f++])===!1)break;return a},trim:q&&!q.call("﻿ ")?function(a){return a==null?"":q.call(a)}:function(a){return a==null?"":(a+"").replace(v,"")},makeArray:function(a,b){var c,d=b||[];a!=null&&(c=r.type(a),a.length==null||c==="string"||c==="function"||c==="regexp"||r.isWindow(a)?l.call(d,a):r.merge(d,a));return d},inArray:function(a,b,c){var d;if(b){if(n)return n.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=b.length,e=a.length,f=0;if(typeof c=="number")for(;f<c;f++)a[e++]=b[f];else while(b[f]!==d)a[e++]=b[f++];a.length=e;return a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;c=!!c;for(;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,c){var e,f,g=[],h=0,i=a.length,j=a instanceof r||i!==d&&typeof i=="number"&&(i>0&&a[0]&&a[i-1]||i===0||r.isArray(a));if(j)for(;h<i;h++)e=b(a[h],h,c),e!=null&&(g[g.length]=e);else for(f in a)e=b(a[f],f,c),e!=null&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,b){var c,e,f;typeof b=="string"&&(c=a[b],b=a,a=c);if(!r.isFunction(a))return d;e=m.call(arguments,2),f=function(){return a.apply(b,e.concat(m.call(arguments)))},f.guid=a.guid=a.guid||r.guid++;return f},access:function(a,b,c,e,f,g,h){var i,j=c==null,k=0,l=a.length;if(c&&typeof c=="object"){for(k in c)r.access(a,b,k,c[k],1,g,e);f=1}else if(e!==d){i=h===d&&r.isFunction(e),j&&(i?(i=b,b=function(a,b,c){return i.call(r(a),c)}):(b.call(a,e),b=null));if(b)for(;k<l;k++)b(a[k],c,i?e.call(a[k],k,b(a[k],c)):e,h);f=1}return f?a:j?b.call(a):l?b(a[0],c):g},now:function(){return(new Date).getTime()}}),r.ready.promise=function(a){if(!f){f=r.Deferred();if(g.readyState==="complete")setTimeout(r.ready,1);else if(g.addEventListener)g.addEventListener("DOMContentLoaded",F,!1),window.addEventListener("load",r.ready,!1);else{g.attachEvent("onreadystatechange",F),window.attachEvent("onload",r.ready);var b=!1;try{b=window.frameElement==null&&g.documentElement}catch(c){}b&&b.doScroll&&function d(){if(!r.isReady){try{b.doScroll("left")}catch(a){return setTimeout(d,50)}r.ready()}}()}}return f.promise(a)},r.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){G["[object "+b+"]"]=b.toLowerCase()}),e=r(g);var H={};r.Callbacks=function(a){a=typeof a=="string"?H[a]||I(a):r.extend({},a);var b,c,e,f,g,h,i=[],j=!a.once&&[],k=function(d){b=a.memory&&d,c=!0,h=f||0,f=0,g=i.length,e=!0;for(;i&&h<g;h++)if(i[h].apply(d[0],d[1])===!1&&a.stopOnFalse){b=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;(function d(b){r.each(b,function(b,c){var e=r.type(c);e==="function"?(!a.unique||!l.has(c))&&i.push(c):c&&c.length&&e!=="string"&&d(c)})})(arguments),e?g=i.length:b&&(f=c,k(b))}return this},remove:function(){i&&r.each(arguments,function(a,b){var c;while((c=r.inArray(b,i,c))>-1)i.splice(c,1),e&&(c<=g&&g--,c<=h&&h--)});return this},has:function(a){return r.inArray(a,i)>-1},empty:function(){i=[];return this},disable:function(){i=j=b=d;return this},disabled:function(){return!i},lock:function(){j=d,b||l.disable();return this},locked:function(){return!j},fireWith:function(a,b){b=b||[],b=[a,b.slice?b.slice():b],i&&(!c||j)&&(e?j.push(b):k(b));return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!c}};return l},r.extend({Deferred:function(a){var b=[["resolve","done",r.Callbacks("once memory"),"resolved"],["reject","fail",r.Callbacks("once memory"),"rejected"],["notify","progress",r.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return r.Deferred(function(c){r.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](r.isFunction(g)?function(){var a=g.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return a!=null?r.extend(a,d):d}},e={};d.pipe=d.then,r.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e);return e},when:function(a){var b=0,c=m.call(arguments),d=c.length,e=d!==1||a&&r.isFunction(a.promise)?d:0,f=e===1?a:r.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?m.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},h,i,j;if(d>1){h=Array(d),i=Array(d),j=Array(d);for(;b<d;b++)c[b]&&r.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e}e||f.resolveWith(j,c);return f.promise()}}),r.support=function(){var a,b,c,d,e,f,h,i,j,k,l,m=g.createElement("div");m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",b=m.getElementsByTagName("*"),c=m.getElementsByTagName("a")[0];if(!b||!c||!b.length)return{};d=g.createElement("select"),e=d.appendChild(g.createElement("option")),f=m.getElementsByTagName("input")[0],c.style.cssText="top:1px;float:left;opacity:.5",a={leadingWhitespace:m.firstChild.nodeType===3,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:c.getAttribute("href")==="/a",opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:f.value==="on",optSelected:e.selected,getSetAttribute:m.className!=="t",enctype:!!g.createElement("form").enctype,html5Clone:g.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:g.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},f.checked=!0,a.noCloneChecked=f.cloneNode(!0).checked,d.disabled=!0,a.optDisabled=!e.disabled;try{delete m.test}catch(n){a.deleteExpando=!1}!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){a.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),f=g.createElement("input"),f.value="t",f.setAttribute("type","radio"),a.radioValue=f.value==="t",f.setAttribute("checked","checked"),f.setAttribute("name","t"),m.appendChild(f),h=g.createDocumentFragment(),h.appendChild(m.lastChild),a.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,a.appendChecked=f.checked,h.removeChild(f),h.appendChild(m);if(m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k=typeof m[i]=="function"),a[j+"Bubbles"]=k;r(function(){var b,c,d,e,f="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=g.getElementsByTagName("body")[0];!h||(b=g.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(b,h.firstChild),c=g.createElement("div"),b.appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d=c.getElementsByTagName("td"),d[0].style.cssText="padding:0;margin:0;border:0;display:none",k=d[0].offsetHeight===0,d[0].style.display="",d[1].style.display="none",a.reliableHiddenOffsets=k&&d[0].offsetHeight===0,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",a.boxSizing=c.offsetWidth===4,a.doesNotIncludeMarginInBodyOffset=h.offsetTop!==1,window.getComputedStyle&&(a.pixelPosition=(window.getComputedStyle(c,null)||{}).top!=="1%",a.boxSizingReliable=(window.getComputedStyle(c,null)||{width:"4px"}).width==="4px",e=g.createElement("div"),e.style.cssText=c.style.cssText=f,e.style.marginRight=e.style.width="0",c.style.width="1px",c.appendChild(e),a.reliableMarginRight=!parseFloat((window.getComputedStyle(e,null)||{}).marginRight)),typeof c.style.zoom!="undefined"&&(c.innerHTML="",c.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=c.offsetWidth===3,c.style.display="block",c.style.overflow="visible",c.innerHTML="<div></div>",c.firstChild.style.width="5px",a.shrinkWrapBlocks=c.offsetWidth!==3,b.style.zoom=1),h.removeChild(b),b=c=d=e=null)}),h.removeChild(m),b=c=d=e=f=h=m=null;return a}();var J=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,K=/([A-Z])/g;r.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(r.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?r.cache[a[r.expando]]:a[r.expando];return!!a&&!M(a)},data:function(a,b,c,e){if(!!r.acceptData(a)){var f,g,h=r.expando,i=typeof b=="string",j=a.nodeType,k=j?r.cache:a,l=j?a[h]:a[h]&&h;if((!l||!k[l]||!e&&!k[l].data)&&i&&c===d)return;l||(j?a[h]=l=r.deletedIds.pop()||r.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=r.noop));if(typeof b=="object"||typeof b=="function")e?k[l]=r.extend(k[l],b):k[l].data=r.extend(k[l].data,b);f=k[l],e||(f.data||(f.data={}),f=f.data),c!==d&&(f[r.camelCase(b)]=c),i?(g=f[b],g==null&&(g=f[r.camelCase(b)])):g=f;return g}},removeData:function(a,b,c){if(!!r.acceptData(a)){var d,e,f,g=a.nodeType,h=g?r.cache:a,i=g?a[r.expando]:r.expando;if(!h[i])return;if(b){d=c?h[i]:h[i].data;if(d){r.isArray(b)||(b in d?b=[b]:(b=r.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?M:r.isEmptyObject)(d))return}}if(!c){delete h[i].data;if(!M(h[i]))return}g?r.cleanData([a],!0):r.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null}},_data:function(a,b,c){return r.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&r.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),r.fn.extend({data:function(a,b){var c,e,f,g,h,i=this[0],j=0,k=null;if(a===d){if(this.length){k=r.data(i);if(i.nodeType===1&&!r._data(i,"parsedAttrs")){f=i.attributes;for(h=f.length;j<h;j++)g=f[j].name,g.indexOf("data-")||(g=r.camelCase(g.substring(5)),L(i,g,k[g]));r._data(i,"parsedAttrs",!0)}}return k}if(typeof a=="object")return this.each(function(){r.data(this,a)});c=a.split(".",2),c[1]=c[1]?"."+c[1]:"",e=c[1]+"!";return r.access(this,function(b){if(b===d){k=this.triggerHandler("getData"+e,[c[0]]),k===d&&i&&(k=r.data(i,a),k=L(i,a,k));return k===d&&c[1]?this.data(c[0]):k}c[1]=b,this.each(function(){var d=r(this);d.triggerHandler("setData"+e,c),r.data(this,a,b),d.triggerHandler("changeData"+e,c)})},null,b,arguments.length>1,null,!1)},removeData:function(a){return this.each(function(){r.removeData(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=r._data(a,b),c&&(!d||r.isArray(c)?d=r._data(a,b,r.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};e==="inprogress"&&(e=c.shift(),d--),e&&(b==="fx"&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return r._data(a,c)||r._data(a,c,{empty:r.Callbacks("once memory").add(function(){r.removeData(a,b+"queue",!0),r.removeData(a,c,!0)})})}}),r.fn.extend({queue:function(a,b){var c=2;typeof a!="string"&&(b=a,a="fx",c--);if(arguments.length<c)return r.queue(this[0],a);return b===d?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),a==="fx"&&c[0]!=="inprogress"&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},delay:function(a,b){a=r.fx?r.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,e=1,f=r.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};typeof a!="string"&&(b=a,a=d),a=a||"fx";while(h--)c=r._data(g[h],a+"queueHooks"),c&&c.empty&&(e++,c.empty.add(i));i();return f.promise(b)}});var N,O,P,Q=/[\t\r\n]/g,R=/\r/g,S=/^(?:button|input)$/i,T=/^(?:button|input|object|select|textarea)$/i,U=/^a(?:rea|)$/i,V=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,W=r.support.getSetAttribute;r.fn.extend({attr:function(a,b){return r.access(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})},prop:function(a,b){return r.access(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){a=r.propFix[a]||a;return this.each(function(){try{this[a]=d,delete this[a]}catch(b){}})},addClass:function(a){var b,c,d,e,f,g,h;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(u);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=r.trim(f)}}}return this},removeClass:function(a){var b,c,e,f,g,h,i;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===d){b=(a||"").split(u);for(h=0,i=this.length;h<i;h++){e=this[h];if(e.nodeType===1&&e.className){c=(" "+e.className+" ").replace(Q," ");for(f=0,g=b.length;f<g;f++)while(c.indexOf(" "+b[f]+" ")>=0)c=c.replace(" "+b[f]+" "," ");e.className=a?r.trim(c):""}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(r.isFunction(a))return this.each(function(c){r(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,f=0,g=r(this),h=b,i=a.split(u);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&r._data(this,"__className__",this.className),this.className=this.className||a===!1?"":r._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(Q," ").indexOf(b)>=0)return!0;return!1},val:function(a){var b,c,e,f=this[0];{if(!!arguments.length){e=r.isFunction(a);return this.each(function(c){var f,g=r(this);if(this.nodeType===1){e?f=a.call(this,c,g.val()):f=a,f==null?f="":typeof f=="number"?f+="":r.isArray(f)&&(f=r.map(f,function(a){return a==null?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()];if(!b||!("set"in b)||b.set(this,f,"value")===d)this.value=f}})}if(f){b=r.valHooks[f.type]||r.valHooks[f.nodeName.toLowerCase()];if(b&&"get"in b&&(c=b.get(f,"value"))!==d)return c;c=f.value;return typeof c=="string"?c.replace(R,""):c==null?"":c}}}}),r.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d=a.options,e=a.selectedIndex,f=a.type==="select-one"||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;for(;i<h;i++){c=d[i];if((c.selected||i===e)&&(r.support.optDisabled?!c.disabled:c.getAttribute("disabled")===null)&&(!c.parentNode.disabled||!r.nodeName(c.parentNode,"optgroup"))){b=r(c).val();if(f)return b;g.push(b)}}return g},set:function(a,b){var c=r.makeArray(b);r(a).find("option").each(function(){this.selected=r.inArray(r(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{},attr:function(a,b,c,e){var f,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){if(e&&r.isFunction(r.fn[b]))return r(a)[b](c);if(typeof a.getAttribute=="undefined")return r.prop(a,b,c);h=i!==1||!r.isXMLDoc(a),h&&(b=b.toLowerCase(),g=r.attrHooks[b]||(V.test(b)?O:N));if(c!==d){if(c===null){r.removeAttr(a,b);return}if(g&&"set"in g&&h&&(f=g.set(a,c,b))!==d)return f;a.setAttribute(b,c+"");return c}if(g&&"get"in g&&h&&(f=g.get(a,b))!==null)return f;f=a.getAttribute(b);return f===null?d:f}},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.split(u);for(;g<d.length;g++)e=d[g],e&&(c=r.propFix[e]||e,f=V.test(e),f||r.attr(a,e,""),a.removeAttribute(W?e:c),f&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(S.test(a.nodeName)&&a.parentNode)r.error("type property can't be changed");else if(!r.support.radioValue&&b==="radio"&&r.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(N&&r.nodeName(a,"button"))return N.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(N&&r.nodeName(a,"button"))return N.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,c){var e,f,g,h=a.nodeType;if(!!a&&h!==3&&h!==8&&h!==2){g=h!==1||!r.isXMLDoc(a),g&&(b=r.propFix[b]||b,f=r.propHooks[b]);return c!==d?f&&"set"in f&&(e=f.set(a,c,b))!==d?e:a[b]=c:f&&"get"in f&&(e=f.get(a,b))!==null?e:a[b]}},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):T.test(a.nodeName)||U.test(a.nodeName)&&a.href?0:d}}}}),O={get:function(a,b){var c,e=r.prop(a,b);return e===!0||typeof e!="boolean"&&(c=a.getAttributeNode(b))&&c.nodeValue!==!1?b.toLowerCase():d},set:function(a,b,c){var d;b===!1?r.removeAttr(a,c):(d=r.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},W||(P={name:!0,id:!0,coords:!0},N=r.valHooks.button={get:function(a,b){var c;c=a.getAttributeNode(b);return c&&(P[b]?c.value!=="":c.specified)?c.value:d},set:function(a,b,c){var d=a.getAttributeNode(c);d||(d=g.createAttribute(c),a.setAttributeNode(d));return d.value=b+""}},r.each(["width","height"],function(a,b){r.attrHooks[b]=r.extend(r.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),r.attrHooks.contenteditable={get:N.get,set:function(a,b,c){b===""&&(b="false"),N.set(a,b,c)}}),r.support.hrefNormalized||r.each(["href","src","width","height"],function(a,b){r.attrHooks[b]=r.extend(r.attrHooks[b],{get:function(a){var c=a.getAttribute(b,2);return c===null?d:c}})}),r.support.style||(r.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||d},set:function(a,b){return a.style.cssText=b+""}}),r.support.optSelected||(r.propHooks.selected=r.extend(r.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),r.support.enctype||(r.propFix.enctype="encoding"),r.support.checkOn||r.each(["radio","checkbox"],function(){r.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]=r.extend(r.valHooks[this],{set:function(a,b){if(r.isArray(b))return a.checked=r.inArray(r(a).val(),b)>=0}})});var X=/^(?:textarea|input|select)$/i,Y=/^([^\.]*|)(?:\.(.+)|)$/,Z=/(?:^|\s)hover(\.\S+|)\b/,$=/^key/,_=/^(?:mouse|contextmenu)|click/,ba=/^(?:focusinfocus|focusoutblur)$/,bb=function(a){return r.event.special.hover?a:a.replace(Z,"mouseenter$1 mouseleave$1")};r.event={add:function(a,b,c,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(!(a.nodeType===3||a.nodeType===8||!b||!c||!(g=r._data(a)))){c.handler&&(o=c,c=o.handler,f=o.selector),c.guid||(c.guid=r.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof r!="undefined"&&(!a||r.event.triggered!==a.type)?r.event.dispatch.apply(h.elem,arguments):d},h.elem=a),b=r.trim(bb(b)).split(" ");for(j=0;j<b.length;j++){k=Y.exec(b[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=r.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=r.event.special[l]||{},n=r.extend({type:l,origType:k[1],data:e,handler:c,guid:c.guid,selector:f,needsContext:f&&r.expr.match.needsContext.test(f),namespace:m.join(".")},o),p=i[l];if(!p){p=i[l]=[],p.delegateCount=0;if(!q.setup||q.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=c.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),r.event.global[l]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=r.hasData(a)&&r._data(a);if(!!q&&!!(m=q.events)){b=r.trim(bb(b||"")).split(" ");for(f=0;f<b.length;f++){g=Y.exec(b[f])||[],h=i=g[1],j=g[2];if(!h){for(h in m)r.event.remove(a,h+b[f],c,d,!0);continue}n=r.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<o.length;l++)p=o[l],(e||i===p.origType)&&(!c||c.guid===p.guid)&&(!j||j.test(p.namespace))&&(!d||d===p.selector||d==="**"&&p.selector)&&(o.splice(l--,1),p.selector&&o.delegateCount--,n.remove&&n.remove.call(a,p));o.length===0&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,q.handle)===!1)&&r.removeEvent(a,h,q.handle),delete m[h])}r.isEmptyObject(m)&&(delete q.handle,r.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,b,c,e){if(!c||c.nodeType!==3&&c.nodeType!==8){var f,h,i,j,k,l,m,n,o,p,q=a.type||a,s=[];if(ba.test(q+r.event.triggered))return;q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(s=q.split("."),q=s.shift(),s.sort());if((!c||r.event.customEvent[q])&&!r.event.global[q])return;a=typeof a=="object"?a[r.expando]?a:new r.Event(q,a):new r.Event(q),a.type=q,a.isTrigger=!0,a.exclusive=h,a.namespace=s.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+s.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"";if(!c){f=r.cache;for(i in f)f[i].events&&f[i].events[q]&&r.event.trigger(a,b,f[i].handle.elem,!0);return}a.result=d,a.target||(a.target=c),b=b!=null?r.makeArray(b):[],b.unshift(a),m=r.event.special[q]||{};if(m.trigger&&m.trigger.apply(c,b)===!1)return;o=[[c,m.bindType||q]];if(!e&&!m.noBubble&&!r.isWindow(c)){p=m.delegateType||q,j=ba.test(p+q)?c:c.parentNode;for(k=c;j;j=j.parentNode)o.push([j,p]),k=j;k===(c.ownerDocument||g)&&o.push([k.defaultView||k.parentWindow||window,p])}for(i=0;i<o.length&&!a.isPropagationStopped();i++)j=o[i][0],a.type=o[i][1],n=(r._data(j,"events")||{})[a.type]&&r._data(j,"handle"),n&&n.apply(j,b),n=l&&j[l],n&&r.acceptData(j)&&n.apply&&n.apply(j,b)===!1&&a.preventDefault();a.type=q,!e&&!a.isDefaultPrevented()&&(!m._default||m._default.apply(c.ownerDocument,b)===!1)&&(q!=="click"||!r.nodeName(c,"a"))&&r.acceptData(c)&&l&&c[q]&&(q!=="focus"&&q!=="blur"||a.target.offsetWidth!==0)&&!r.isWindow(c)&&(k=c[l],k&&(c[l]=null),r.event.triggered=q,c[q](),r.event.triggered=d,k&&(c[l]=k));return a.result}},dispatch:function(a){a=r.event.fix(a||window.event);var b,c,e,f,g,h,i,j,k,l,n=(r._data(this,"events")||{})[a.type]||[],o=n.delegateCount,p=m.call(arguments),q=!a.exclusive&&!a.namespace,s=r.event.special[a.type]||{},t=[];p[0]=a,a.delegateTarget=this;if(!s.preDispatch||s.preDispatch.call(this,a)!==!1){if(o&&(!a.button||a.type!=="click"))for(e=a.target;e!=this;e=e.parentNode||this)if(e.disabled!==!0||a.type!=="click"){g={},i=[];for(b=0;b<o;b++)j=n[b],k=j.selector,g[k]===d&&(g[k]=j.needsContext?r(k,this).index(e)>=0:r.find(k,this,null,[e]).length),g[k]&&i.push(j);i.length&&t.push({elem:e,matches:i})}n.length>o&&t.push({elem:this,matches:n.slice(o)});for(b=0;b<t.length&&!a.isPropagationStopped();b++){h=t[b],a.currentTarget=h.elem;for(c=0;c<h.matches.length&&!a.isImmediatePropagationStopped();c++){j=h.matches[c];if(q||!a.namespace&&!j.namespace||a.namespace_re&&a.namespace_re.test(j.namespace))a.data=j.data,a.handleObj=j,f=((r.event.special[j.origType]||{}).handle||j.handler).apply(h.elem,p),f!==d&&(a.result=f,f===!1&&(a.preventDefault(),a.stopPropagation()))}}s.postDispatch&&s.postDispatch.call(this,a);return a.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,h=b.button,i=b.fromElement;a.pageX==null&&b.clientX!=null&&(c=a.target.ownerDocument||g,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?b.toElement:i),!a.which&&h!==d&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[r.expando])return a;var b,c,d=a,e=r.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;a=r.Event(d);for(b=f.length;b;)c=f[--b],a[c]=d[c];a.target||(a.target=d.srcElement||g),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey;return e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){r.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=r.extend(new r.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?r.event.trigger(e,null,b):r.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},r.event.handle=r.event.dispatch,r.removeEvent=g.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]=="undefined"&&(a[d]=null),a.detachEvent(d,c))},r.Event=function(a,b){if(!(this instanceof r.Event))return new r.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?bd:bc):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),this[r.expando]=!0},r.Event.prototype={preventDefault:function(){this.isDefaultPrevented=bd;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=bd;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bd,this.stopPropagation()},isDefaultPrevented:bc,isPropagationStopped:bc,isImmediatePropagationStopped:bc},r.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj,g=f.selector;if(!e||e!==d&&!r.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),r.support.submitBubbles||(r.event.special.submit={setup:function(){if(r.nodeName(this,"form"))return!1;r.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=r.nodeName(b,"input")||r.nodeName(b,"button")?b.form:d;c&&!r._data(c,"_submit_attached")&&(r.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),r._data(c,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&r.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(r.nodeName(this,"form"))return!1;r.event.remove(this,"._submit")}}),r.support.changeBubbles||(r.event.special.change={setup:function(){if(X.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")r.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),r.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),r.event.simulate("change",this,a,!0)});return!1}r.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!r._data(b,"_change_attached")&&(r.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&r.event.simulate("change",this.parentNode,a,!0)}),r._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){r.event.remove(this,"._change");return!X.test(this.nodeName)}}),r.support.focusinBubbles||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){r.event.simulate(b,a.target,r.event.fix(a),!0)};r.event.special[b]={setup:function(){c++===0&&g.addEventListener(a,d,!0)},teardown:function(){--c===0&&g.removeEventListener(a,d,!0)}}}),r.fn.extend({on:function(a,b,c,e,f){var g,h;if(typeof a=="object"){typeof b!="string"&&(c=c||b,b=d);for(h in a)this.on(h,b,c,a[h],f);return this}c==null&&e==null?(e=b,c=b=d):e==null&&(typeof b=="string"?(e=c,c=d):(e=c,c=b,b=d));if(e===!1)e=bc;else if(!e)return this;f===1&&(g=e,e=function(a){r().off(a);return g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++));return this.each(function(){r.event.add(this,a,e,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var e,f;if(a&&a.preventDefault&&a.handleObj){e=a.handleObj,r(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a=="object"){for(f in a)this.off(f,b,a[f]);return this}if(b===!1||typeof b=="function")c=b,b=d;c===!1&&(c=bc);return this.each(function(){r.event.remove(this,a,c,b)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){r(this.context).on(a,this.selector,b,c);return this},die:function(a,b){r(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return r.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||r.guid++,d=0,e=function(c){var e=(r._data(this,"lastToggle"+a.guid)||0)%d;r._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),r.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},$.test(b)&&(r.event.fixHooks[b]=r.event.keyHooks),_.test(b)&&(r.event.fixHooks[b]=r.event.mouseHooks)}),function(a,b){function bq(){}function bp(a,b,c,d,f){var g,h,j,k,l,m=bh(a),n=m.length;if(!d&&m.length===1){h=m[0]=m[0].slice(0);if(h.length>2&&(j=h[0]).type==="ID"&&b.nodeType===9&&!f&&e.relative[h[1].type]){b=e.find.ID(j.matches[0].replace(V,""),b,f)[0];if(!b)return c;a=a.slice(h.shift().length)}for(g=W.POS.test(a)?-1:h.length-1;g>=0;g--){j=h[g];if(e.relative[k=j.type])break;if(l=e.find[k])if(d=l(j.matches[0].replace(V,""),R.test(h[0].type)&&b.parentNode||b,f)){h.splice(g,1),a=d.length&&h.join("");if(!a){w.apply(c,x.call(d,0));return c}break}}}i(a,m)(d,b,f,c,R.test(a));return c}function bo(a,b,c){var d=0,e=b.length;for(;d<e;d++)bc(a,b[d],c);return c}function bn(a,b){var d=b.length>0,f=a.length>0,g=function(h,i,j,k,m){var n,o,p,r=[],s=0,u="0",x=h&&[],y=m!=null,z=l,A=h||f&&e.find.TAG("*",m&&i.parentNode||i),B=t+=z==null?1:Math.E;y&&(l=i!==q&&i,c=g.el);for(;(n=A[u])!=null;u++){if(f&&n){for(o=0;p=a[o];o++)if(p(n,i,j)){k.push(n);break}y&&(t=B,c=++g.el)}d&&((n=!p&&n)&&s--,h&&x.push(n))}s+=u;if(d&&u!==s){for(o=0;p=b[o];o++)p(x,r,i,j);if(h){if(s>0)while(u--)!x[u]&&!r[u]&&(r[u]=v.call(k));r=bk(r)}w.apply(k,r),y&&!h&&r.length>0&&s+b.length>1&&bc.uniqueSort(k)}y&&(t=B,l=z);return x};g.el=0;return d?z(g):g}function bm(a){var b,c,d,f=a.length,g=e.relative[a[0].type],h=g||e.relative[" "],i=g?1:0,j=bi(function(a){return a===b},h,!0),k=bi(function(a){return y.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==l)||((b=c).nodeType?j(a,c,d):k(a,c,d))}];for(;i<f;i++)if(c=e.relative[a[i].type])m=[bi(bj(m),c)];else{c=e.filter[a[i].type].apply(null,a[i].matches);if(c[o]){d=++i;for(;d<f;d++)if(e.relative[a[d].type])break;return bl(i>1&&bj(m),i>1&&a.slice(0,i-1).join("").replace(L,"$1"),c,i<d&&bm(a.slice(i,d)),d<f&&bm(a=a.slice(d)),d<f&&a.join(""))}m.push(c)}return bj(m)}function bl(a,b,c,d,e,f){d&&!d[o]&&(d=bl(d)),e&&!e[o]&&(e=bl(e,f));return z(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||bo(b||"*",h.nodeType?[h]:h,[]),q=a&&(f||!b)?bk(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;c&&c(q,r,h,i);if(d){j=bk(r,n),d(j,[],h,i),k=j.length;while(k--)if(l=j[k])r[n[k]]=!(q[n[k]]=l)}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?y.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=bk(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):w.apply(g,r)})}function bk(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),j&&b.push(h);return g}function bj(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bi(a,b,d){var e=b.dir,f=d&&b.dir==="parentNode",g=u++;return b.first?function(b,c,d){while(b=b[e])if(f||b.nodeType===1)return a(b,c,d)}:function(b,d,h){if(!h){var i,j=t+" "+g+" ",k=j+c;while(b=b[e])if(f||b.nodeType===1){if((i=b[o])===k)return b.sizset;if(typeof i=="string"&&i.indexOf(j)===0){if(b.sizset)return b}else{b[o]=k;if(a(b,d,h)){b.sizset=!0;return b}b.sizset=!1}}}else while(b=b[e])if(f||b.nodeType===1)if(a(b,d,h))return b}}function bh(a,b){var c,d,f,g,h,i,j,k=C[o][a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=e.preFilter;while(h){if(!c||(d=M.exec(h)))d&&(h=h.slice(d[0].length)||h),i.push(f=[]);c=!1;if(d=N.exec(h))f.push(c=new p(d.shift())),h=h.slice(c.length),c.type=d[0].replace(L," ");for(g in e.filter)(d=W[g].exec(h))&&(!j[g]||(d=j[g](d)))&&(f.push(c=new p(d.shift())),h=h.slice(c.length),c.type=g,c.matches=d);if(!c)break}return b?h.length:h?bc.error(a):C(a,i).slice(0)}function bg(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}function bf(a){return z(function(b){b=+b;return z(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function be(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function bd(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function bc(a,b,c,d){c=c||[],b=b||q;var e,f,i,j,k=b.nodeType;if(!a||typeof a!="string")return c;if(k!==1&&k!==9)return[];i=g(b);if(!i&&!d)if(e=P.exec(a))if(j=e[1]){if(k===9){f=b.getElementById(j);if(!f||!f.parentNode)return c;if(f.id===j){c.push(f);return c}}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(j))&&h(b,f)&&f.id===j){c.push(f);return c}}else{if(e[2]){w.apply(c,x.call(b.getElementsByTagName(a),0));return c}if((j=e[3])&&_&&b.getElementsByClassName){w.apply(c,x.call(b.getElementsByClassName(j),0));return c}}return bp(a.replace(L,"$1"),b,c,d,i)}var c,d,e,f,g,h,i,j,k,l,m=!0,n="undefined",o=("sizcache"+Math.random()).replace(".",""),p=String,q=a.document,s=q.documentElement,t=0,u=0,v=[].pop,w=[].push,x=[].slice,y=[].indexOf||function(a){var b=0,c=this.length;for(;b<c;b++)if(this[b]===a)return b;return-1},z=function(a,b){a[o]=b==null||b;return a},A=function(){var a={},b=[];return z(function(c,d){b.push(c)>e.cacheLength&&delete a[b.shift()];return a[c+" "]=d},a)},B=A(),C=A(),D=A(),E="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",G=F.replace("w","w#"),H="([*^$|!~]?=)",I="\\["+E+"*("+F+")"+E+"*(?:"+H+E+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+G+")|)|)"+E+"*\\]",J=":("+F+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+I+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)",L=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),M=new RegExp("^"+E+"*,"+E+"*"),N=new RegExp("^"+E+"*([\\x20\\t\\r\\n\\f>+~])"+E+"*"),O=new RegExp(J),P=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Q=/^:not/,R=/[\x20\t\r\n\f]*[+~]/,S=/:not\($/,T=/h\d/i,U=/input|select|textarea|button/i,V=/\\(?!\\)/g,W={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),NAME:new RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+J),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),needsContext:new RegExp("^"+E+"*[>+~]|"+K,"i")},X=function(a){var b=q.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},Y=X(function(a){a.appendChild(q.createComment(""));return!a.getElementsByTagName("*").length}),Z=X(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&typeof a.firstChild.getAttribute!==n&&a.firstChild.getAttribute("href")==="#"}),$=X(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return b!=="boolean"&&b!=="string"}),_=X(function(a){a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return a.getElementsByClassName("e").length===2}),ba=X(function(a){a.id=o+0,a.innerHTML="<a name='"+o+"'></a><div name='"+o+"'></div>",s.insertBefore(a,s.firstChild);var b=q.getElementsByName&&q.getElementsByName(o).length===2+q.getElementsByName(o+0).length;d=!q.getElementById(o),s.removeChild(a);return b});try{x.call(s.childNodes,0)[0].nodeType}catch(bb){x=function(a){var b,c=[];for(;b=this[a];a++)c.push(b);return c}}bc.matches=function(a,b){return bc(a,null,null,b)},bc.matchesSelector=function(a,b){return bc(b,null,null,[a]).length>0},f=bc.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(e===1||e===9||e===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=f(a)}else if(e===3||e===4)return a.nodeValue}else for(;b=a[d];d++)c+=f(b);return c},g=bc.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1},h=bc.contains=s.contains?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&d.nodeType===1&&c.contains&&c.contains(d))}:s.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){while(b=b.parentNode)if(b===a)return!0;return!1},bc.attr=function(a,b){var c,d=g(a);d||(b=b.toLowerCase());if(c=e.attrHandle[b])return c(a);if(d||$)return a.getAttribute(b);c=a.getAttributeNode(b);return c?typeof a[b]=="boolean"?a[b]?b:null:c.specified?c.value:null:null},e=bc.selectors={cacheLength:50,createPseudo:z,match:W,attrHandle:Z?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:d?function(a,b,c){if(typeof b.getElementById!==n&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==n&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==n&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:Y?function(a,b){if(typeof b.getElementsByTagName!==n)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if(a==="*"){var d,e=[],f=0;for(;d=c[f];f++)d.nodeType===1&&e.push(d);return e}return c},NAME:ba&&function(a,b){if(typeof b.getElementsByName!==n)return b.getElementsByName(name)},CLASS:_&&function(a,b,c){if(typeof b.getElementsByClassName!==n&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(V,""),a[3]=(a[4]||a[5]||"").replace(V,""),a[2]==="~="&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase(),a[1]==="nth"?(a[2]||bc.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*(a[2]==="even"||a[2]==="odd")),a[4]=+(a[6]+a[7]||a[2]==="odd")):a[2]&&bc.error(a[0]);return a},PSEUDO:function(a){var b,c;if(W.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4])O.test(b)&&(c=bh(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b;return a.slice(0,3)}},filter:{ID:d?function(a){a=a.replace(V,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(V,"");return function(b){var c=typeof b.getAttributeNode!==n&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){if(a==="*")return function(){return!0};a=a.replace(V,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=B[o][a+" "];return b||(b=new RegExp("(^|"+E+")"+a+"("+E+"|$)"))&&B(a,function(a){return b.test(a.className||typeof a.getAttribute!==n&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d,e){var f=bc.attr(d,a);if(f==null)return b==="!=";if(!b)return!0;f+="";return b==="="?f===c:b==="!="?f!==c:b==="^="?c&&f.indexOf(c)===0:b==="*="?c&&f.indexOf(c)>-1:b==="$="?c&&f.substr(f.length-c.length)===c:b==="~="?(" "+f+" ").indexOf(c)>-1:b==="|="?f===c||f.substr(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,d){if(a==="nth")return function(a){var b,e,f=a.parentNode;if(c===1&&d===0)return!0;if(f){e=0;for(b=f.firstChild;b;b=b.nextSibling)if(b.nodeType===1){e++;if(a===b)break}}e-=d;return e===c||e%c===0&&e/c>=0};return function(b){var c=b;switch(a){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(a==="first")return!0;c=b;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0}}},PSEUDO:function(a,b){var c,d=e.pseudos[a]||e.setFilters[a.toLowerCase()]||bc.error("unsupported pseudo: "+a);if(d[o])return d(b);if(d.length>1){c=[a,a,"",b];return e.setFilters.hasOwnProperty(a.toLowerCase())?z(function(a,c){var e,f=d(a,b),g=f.length;while(g--)e=y.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}}return d}},pseudos:{not:z(function(a){var b=[],c=[],d=i(a.replace(L,"$1"));return d[o]?z(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)if(f=g[h])a[h]=!(b[h]=f)}):function(a,e,f){b[0]=a,d(b,null,f,c);return!c.pop()}}),has:z(function(a){return function(b){return bc(a,b).length>0}}),contains:z(function(a){return function(b){return(b.textContent||b.innerText||f(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!e.pseudos.empty(a)},empty:function(a){var b;a=a.firstChild;while(a){if(a.nodeName>"@"||(b=a.nodeType)===3||b===4)return!1;a=a.nextSibling}return!0},header:function(a){return T.test(a.nodeName)},text:function(a){var b,c;return a.nodeName.toLowerCase()==="input"&&(b=a.type)==="text"&&((c=a.getAttribute("type"))==null||c.toLowerCase()===b)},radio:bd("radio"),checkbox:bd("checkbox"),file:bd("file"),password:bd("password"),image:bd("image"),submit:be("submit"),reset:be("reset"),button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},input:function(a){return U.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:bf(function(){return[0]}),last:bf(function(a,b){return[b-1]}),eq:bf(function(a,b,c){return[c<0?c+b:c]}),even:bf(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:bf(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:bf(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:bf(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},j=s.compareDocumentPosition?function(a,b){if(a===b){k=!0;return 0}return(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b){k=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,h=b.parentNode,i=g;if(g===h)return bg(a,b);if(!g)return-1;if(!h)return 1;while(i)e.unshift(i),i=i.parentNode;i=h;while(i)f.unshift(i),i=i.parentNode;c=e.length,d=f.length;for(var j=0;j<c&&j<d;j++)if(e[j]!==f[j])return bg(e[j],f[j]);return j===c?bg(a,f[j],-1):bg(e[j],b,1)},[0,0].sort(j),m=!k,bc.uniqueSort=function(a){var b,c=[],d=1,e=0;k=m,a.sort(j);if(k){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));while(e--)a.splice(c[e],1)}return a},bc.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},i=bc.compile=function(a,b){var c,d=[],e=[],f=D[o][a+" "];if(!f){b||(b=bh(a)),c=b.length;while(c--)f=bm(b[c]),f[o]?d.push(f):e.push(f);f=D(a,bn(e,d))}return f},q.querySelectorAll&&function(){var a,b=bp,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[":focus"],f=[":active"],h=s.matchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.oMatchesSelector||s.msMatchesSelector;X(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+E+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),X(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+E+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=new RegExp(e.join("|")),bp=function(a,d,f,g,h){if(!g&&!h&&!e.test(a)){var i,j,k=!0,l=o,m=d,n=d.nodeType===9&&a;if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){i=bh(a),(k=d.getAttribute("id"))?l=k.replace(c,"\\$&"):d.setAttribute("id",l),l="[id='"+l+"'] ",j=i.length;while(j--)i[j]=l+i[j].join("");m=R.test(a)&&d.parentNode||d,n=i.join(",")}if(n)try{w.apply(f,x.call(m.querySelectorAll(n),0));return f}catch(p){}finally{k||d.removeAttribute("id")}}return b(a,d,f,g,h)},h&&(X(function(b){a=h.call(b,"div");try{h.call(b,"[test!='']:sizzle"),f.push("!=",J)}catch(c){}}),f=new RegExp(f.join("|")),bc.matchesSelector=function(b,c){c=c.replace(d,"='$1']");if(!g(b)&&!f.test(c)&&!e.test(c))try{var i=h.call(b,c);if(i||a||b.document&&b.document.nodeType!==11)return i}catch(j){}return bc(c,null,null,[b]).length>0})}(),e.pseudos.nth=e.pseudos.eq,e.filters=bq.prototype=e.pseudos,e.setFilters=new bq,bc.attr=r.attr,r.find=bc,r.expr=bc.selectors,r.expr[":"]=r.expr.pseudos,r.unique=bc.uniqueSort,r.text=bc.getText,r.isXMLDoc=bc.isXML,r.contains=bc.contains}(window);var be=/Until$/,bf=/^(?:parents|prev(?:Until|All))/,bg=/^.[^:#\[\.,]*$/,bh=r.expr.match.needsContext,bi={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if(typeof a!="string")return r(a).filter(function(){for(b=0,c=h.length;b<c;b++)if(r.contains(h[b],this))return!0});g=this.pushStack("","find",a);for(b=0,c=this.length;b<c;b++){d=g.length,r.find(a,this[b],g);if(b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}}return g},has:function(a){var b,c=r(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(r.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bl(this,a,!1),"not",a)},filter:function(a){return this.pushStack(bl(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bh.test(a)?r(a,this.context).index(this[0])>=0:r.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d=0,e=this.length,f=[],g=bh.test(a)||typeof a!="string"?r(a,b||this.context):0;for(;d<e;d++){c=this[d];while(c&&c.ownerDocument&&c!==b&&c.nodeType!==11){if(g?g.index(c)>-1:r.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}}f=f.length>1?r.unique(f):f;return this.pushStack(f,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return r.inArray(this[0],r(a));return r.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?r(a,b):r.makeArray(a&&a.nodeType?[a]:a),d=r.merge(this.get(),c);return this.pushStack(bj(c[0])||bj(d[0])?d:r.unique(d))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),r.fn.andSelf=r.fn.addBack,r.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return r.dir(a,"parentNode")},parentsUntil:function(a,b,c){return r.dir(a,"parentNode",c)},next:function(a){return bk(a,"nextSibling")},prev:function(a){return bk(a,"previousSibling")},nextAll:function(a){return r.dir(a,"nextSibling")},prevAll:function(a){return r.dir(a,"previousSibling")},nextUntil:function(a,b,c){return r.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return r.dir(a,"previousSibling",c)},siblings:function(a){return r.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return r.sibling(a.firstChild)},contents:function(a){return r.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:r.merge([],a.childNodes)}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);be.test(a)||(d=c),d&&typeof d=="string"&&(e=r.filter(d,e)),e=this.length>1&&!bi[a]?r.unique(e):e,this.length>1&&bf.test(a)&&(e=e.reverse());return this.pushStack(e,a,m.call(arguments).join(","))}}),r.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?r.find.matchesSelector(b[0],a)?[b[0]]:[]:r.find.matches(a,b)},dir:function(a,b,c){var e=[],f=a[b];while(f&&f.nodeType!==9&&(c===d||f.nodeType!==1||!r(f).is(c)))f.nodeType===1&&e.push(f),f=f[b];return e},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bn="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bo=/ jQuery\d+="(?:null|\d+)"/g,bp=/^\s+/,bq=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,br=/<([\w:]+)/,bs=/<tbody/i,bt=/<|&#?\w+;/,bu=/<(?:script|style|link)/i,bv=/<(?:script|object|embed|option|style)/i,bw=new RegExp("<(?:"+bn+")[\\s/>]","i"),bx=/^(?:checkbox|radio)$/,by=/checked\s*(?:[^=]|=\s*.checked.)/i,bz=/\/(java|ecma)script/i,bA=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,bB={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bC=bm(g),bD=bC.appendChild(g.createElement("div"));bB.optgroup=bB.option,bB.tbody=bB.tfoot=bB.colgroup=bB.caption=bB.thead,bB.th=bB.td,r.support.htmlSerialize||(bB._default=[1,"X<div>","</div>"]),r.fn.extend({text:function(a){return r.access(this,function(a){return a===d?r.text(this):this.empty().append((this[0]&&this[0].ownerDocument||g).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(r.isFunction(a))return this.each(function(b){r(this).wrapAll(a.call(this,b))});if(this[0]){var b=r(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(r.isFunction(a))return this.each(function(b){r(this).wrapInner(a.call(this,b))});return this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){r.nodeName(this,"body")||r(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!bj(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=r.clean(arguments);return this.pushStack(r.merge(a,this),"before",this.selector)}},after:function(){if(!bj(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=r.clean(arguments);return this.pushStack(r.merge(this,a),"after",this.selector)}},remove:function(a,b){var c,d=0;for(;(c=this[d])!=null;d++)if(!a||r.filter(a,[c]).length)!b&&c.nodeType===1&&(r.cleanData(c.getElementsByTagName("*")),r.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){a.nodeType===1&&r.cleanData(a.getElementsByTagName("*"));while(a.firstChild)a.removeChild(a.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return r.clone(this,a,b)})},html:function(a){return r.access(this,function(a){var b=this[0]||{},c=0,e=this.length;if(a===d)return b.nodeType===1?b.innerHTML.replace(bo,""):d;if(typeof a=="string"&&!bu.test(a)&&(r.support.htmlSerialize||!bw.test(a))&&(r.support.leadingWhitespace||!bp.test(a))&&!bB[(br.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bq,"<$1></$2>");try{for(;c<e;c++)b=this[c]||{},b.nodeType===1&&(r.cleanData(b.getElementsByTagName("*")),b.innerHTML=a);b=0}catch(f){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(!bj(this[0])){if(r.isFunction(a))return this.each(function(b){var c=r(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=r(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;r(this).remove(),b?r(b).before(a):r(c).append(a)})}return this.length?this.pushStack(r(r.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],l=this.length;if(!r.support.checkClone&&l>1&&typeof j=="string"&&by.test(j))return this.each(function(){r(this).domManip(a,b,c)});if(r.isFunction(j))return this.each(function(e){var f=r(this);a[0]=j.call(this,e,b?f.html():d),f.domManip(a,b,c)});if(this[0]){e=r.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,g.childNodes.length===1&&(g=f);if(f){b=b&&r.nodeName(f,"tr");for(h=e.cacheable||l-1;i<l;i++)c.call(b&&r.nodeName(this[i],"table")?bE(this[i],"tbody"):this[i],i===h?g:r.clone(g,!0,!0))}g=f=null,k.length&&r.each(k,function(a,b){b.src?r.ajax?r.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):r.error("no ajax"):r.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bA,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this},outerHTML:function(){var a=this.first(),b=a.wrap("<div>").parent().html();a.unwrap();return b},setCaretTo:function(a,b){b===d&&(b=a);var c=this.get(0);if(c.createTextRange){var e=c.createTextRange();e.collapse(!0),e.moveStart("character",a),e.moveEnd("character",b-a),e.select()}else c.focus(),c.setSelectionRange(a,b);return this}}),r.buildFragment=function(a,b,c){var e,f,h,i=a[0];b=b||g,b=!b.nodeType&&b[0]||b,b=b.ownerDocument||b,a.length===1&&typeof i=="string"&&i.length<512&&b===g&&i.charAt(0)==="<"&&!bv.test(i)&&(r.support.checkClone||!by.test(i))&&(r.support.html5Clone||!bw.test(i))&&(f=!0,e=r.fragments[i],h=e!==d),e||(e=b.createDocumentFragment(),r.clean(a,b,e,c),f&&(r.fragments[i]=h&&e));return{fragment:e,cacheable:f}},r.fragments={},r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(c){var d,e=0,f=[],g=r(c),h=g.length,i=this.length===1&&this[0].parentNode;if((i==null||i&&i.nodeType===11&&i.childNodes.length===1)&&h===1){g[b](this[0]);return this}for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),r(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),r.extend({clone:function(a,b,c){var d,e,f,g;r.support.html5Clone||r.isXMLDoc(a)||!bw.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bD.innerHTML=a.outerHTML,bD.removeChild(g=bD.firstChild));if((!r.support.noCloneEvent||!r.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!r.isXMLDoc(a)){bG(a,g),d=bH(a),e=bH(g);for(f=0;d[f];++f)e[f]&&bG(d[f],e[f])}if(b){bF(a,g);if(c){d=bH(a),e=bH(g);for(f=0;d[f];++f)bF(d[f],e[f])}}d=e=null;return g},clean:function(a,b,c,d){var e,f,h,i,j,k,l,m,n,o,p,q,s=b===g&&bC,t=[];if(!b||typeof b.createDocumentFragment=="undefined")b=g;for(e=0;(h=a[e])!=null;e++){typeof h=="number"&&(h+="");if(!h)continue;if(typeof h=="string")if(!bt.test(h))h=b.createTextNode(h);else{s=s||bm(b),l=b.createElement("div"),s.appendChild(l),h=h.replace(bq,"<$1></$2>"),i=(br.exec(h)||["",""])[1].toLowerCase(),j=bB[i]||bB._default,k=j[0],l.innerHTML=j[1]+h+j[2];while(k--)l=l.lastChild;if(!r.support.tbody){m=bs.test(h),n=i==="table"&&!m?l.firstChild&&l.firstChild.childNodes:j[1]==="<table>"&&!m?l.childNodes:[];for(f=n.length-1;f>=0;--f)r.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f])}!r.support.leadingWhitespace&&bp.test(h)&&l.insertBefore(b.createTextNode(bp.exec(h)[0]),l.firstChild),h=l.childNodes,l.parentNode.removeChild(l)}h.nodeType?t.push(h):r.merge(t,h)}l&&(h=l=s=null);if(!r.support.appendChecked)for(e=0;(h=t[e])!=null;e++)r.nodeName(h,"input")?bI(h):typeof h.getElementsByTagName!="undefined"&&r.grep(h.getElementsByTagName("input"),bI);if(c){p=function(a){if(!a.type||bz.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(e=0;(h=t[e])!=null;e++)if(!r.nodeName(h,"script")||!p(h))c.appendChild(h),typeof h.getElementsByTagName!="undefined"&&(q=r.grep(r.merge([],h.getElementsByTagName("script")),p),t.splice.apply(t,[e+1,0].concat(q)),e+=q.length)}return t},cleanData:function(a,b){var c,d,e,f,g=0,h=r.expando,i=r.cache,j=r.support.deleteExpando,k=r.event.special;for(;(e=a[g])!=null;g++)if(b||r.acceptData(e)){d=e[h],c=d&&i[d];if(c){if(c.events)for(f in c.events)k[f]?r.event.remove(e,f):r.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,r.deletedIds.push(d))}}}}),function(){var a,b;r.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=r.uaMatch(i.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),r.browser=b,r.sub=function(){function a(b,c){return new a.fn.init(b,c)}r.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(b,d){d&&d instanceof r&&!(d instanceof a)&&(d=a(d));return r.fn.init.call(this,b,d,c)},a.fn.init.prototype=a.fn;var c=a(g);return a}}();var bJ,bK,bL,bM=/alpha\([^)]*\)/i,bN=/opacity=([^)]*)/,bO=/^(top|right|bottom|left)$/,bP=/^(none|table(?!-c[ea]).+)/,bQ=/^margin/,bR=new RegExp("^("+s+")(.*)$","i"),bS=new RegExp("^("+s+")(?!px)[a-z%]+$","i"),bT=new RegExp("^([-+])=("+s+")","i"),bU={BODY:"block"},bV={position:"absolute",visibility:"hidden",display:"block"},bW={letterSpacing:0,fontWeight:400},bX=["Top","Right","Bottom","Left"],bY=["Webkit","O","Moz","ms"],bZ=r.fn.toggle;r.fn.extend({css:function(a,b){return r.access(this,function(a,b,c){return c!==d?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)},show:function(){return ca(this,!0)},hide:function(){return ca(this)},toggle:function(a,b){var c=typeof a=="boolean";if(r.isFunction(a)&&r.isFunction(b))return bZ.apply(this,arguments);return this.each(function(){(c?a:b_(this))?r(this).show():r(this).hide()})}}),r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bJ(a,"opacity");return c===""?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":r.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var f,g,h,i=r.camelCase(b),j=a.style;b=r.cssProps[i]||(r.cssProps[i]=b$(j,i)),h=r.cssHooks[b]||r.cssHooks[i];if(c===d){if(h&&"get"in h&&(f=h.get(a,!1,e))!==d)return f;return j[b]}g=typeof c,g==="string"&&(f=bT.exec(c))&&(c=(f[1]+1)*f[2]+parseFloat(r.css(a,b)),g="number");if(c==null||g==="number"&&isNaN(c))return;g==="number"&&!r.cssNumber[i]&&(c+="px");if(!h||!("set"in h)||(c=h.set(a,c,e))!==d)try{j[b]=c}catch(k){}}},css:function(a,b,c,e){var f,g,h,i=r.camelCase(b);b=r.cssProps[i]||(r.cssProps[i]=b$(a.style,i)),h=r.cssHooks[b]||r.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===d&&(f=bJ(a,b)),f==="normal"&&b in bW&&(f=bW[b]);if(c||e!==d){g=parseFloat(f);return c||r.isNumeric(g)?g||0:f}return f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),window.getComputedStyle?bJ=function(a,b){var c,d,e,f,g=window.getComputedStyle(a,null),h=a.style;g&&(c=g.getPropertyValue(b)||g[b],c===""&&!r.contains(a.ownerDocument,a)&&(c=r.style(a,b)),bS.test(c)&&bQ.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=c,c=g.width,h.width=d,h.minWidth=e,h.maxWidth=f));return c}:g.documentElement.currentStyle&&(bJ=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;e==null&&f&&f[b]&&(e=f[b]),bS.test(e)&&!bO.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d));return e===""?"auto":e}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth===0&&bP.test(bJ(a,"display"))?r.swap(a,bV,function(){return cd(a,b,d)}):cd(a,b,d)},set:function(a,c,d){return cb(a,c,d?cc(a,b,d,r.support.boxSizing&&r.css(a,"boxSizing")==="border-box"):0)}}}),r.support.opacity||(r.cssHooks.opacity={get:function(a,b){return bN.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=r.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&r.trim(f.replace(bM,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bM.test(f)?f.replace(bM,e):f+" "+e}}),r(function(){r.support.reliableMarginRight||(r.cssHooks.marginRight={get:function(a,b){return r.swap(a,{display:"inline-block"},function(){if(b)return bJ(a,"marginRight")})}}),!r.support.pixelPosition&&r.fn.position&&r.each(["top","left"],function(a,b){r.cssHooks[b]={get:function(a,c){if(c){var d=bJ(a,b);return bS.test(d)?r(a).position()[b]+"px":d}}}})}),r.expr&&r.expr.filters&&(r.expr.filters.hidden=function(a){return a.offsetWidth===0&&a.offsetHeight===0||!r.support.reliableHiddenOffsets&&(a.style&&a.style.display||bJ(a,"display"))==="none"},r.expr.filters.visible=function(a){return!r.expr.filters.hidden(a)}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bX[d]+b]=e[d]||e[d-2]||e[0];return f}},bQ.test(a)||(r.cssHooks[a+b].set=cb)});var cf=/%20/g,cg=/\[\]$/,ch=/\r?\n/g,ci=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,cj=/^(?:select|textarea)/i;r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?r.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||cj.test(this.nodeName)||ci.test(this.type))}).map(function(a,b){var c=r(this).val();return c==null?null:r.isArray(c)?r.map(c,function(a,c){return{name:b.name,value:a.replace(ch,"\r\n")}}):{name:b.name,value:c.replace(ch,"\r\n")}}).get()}}),r.param=function(a,b){var c,e=[],f=function(a,b){b=r.isFunction(b)?b():b==null?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===d&&(b=r.ajaxSettings&&r.ajaxSettings.traditional);if(r.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){f(this.name,this.value)});else for(c in a)ck(c,a[c],b,f);return e.join("&").replace(cf,"+")};var cl,cm,cn=/#.*$/,co=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cp=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,cq=/^(?:GET|HEAD)$/,cr=/^\/\//,cs=/\?/,ct=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cu=/([?&])_=[^&]*/,cv=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,cw=r.fn.load,cx={},cy={},cz=["*/"]+["*"];try{cm=h.href}catch(cA){cm=g.createElement("a"),cm.href="",cm=cm.href}cl=cv.exec(cm.toLowerCase())||[],r.fn.load=function(a,b,c){if(typeof a!="string"&&cw)return cw.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),r.isFunction(b)?(c=b,b=d):b&&typeof b=="object"&&(f="POST"),r.ajax({url:a,type:f,dataType:"html",data:b,complete:function(a,b){c&&h.each(c,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?r("<div>").append(a.replace(ct,"")).find(e):a)});return this},r.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,e,f){r.isFunction(c)&&(f=f||e,e=c,c=d);return r.ajax({type:b,url:a,data:c,success:e,dataType:f})}}),r.extend({getScript:function(a,b){return r.get(a,d,b,"script")},getJSON:function(a,b,c){return r.get(a,b,c,"json")},ajaxSetup:function(a,b){b?cD(a,r.ajaxSettings):(b=a,a=r.ajaxSettings),cD(a,b);return a},ajaxSettings:{url:cm,isLocal:cp.test(cl[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cz},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":r.parseJSON,"text xml":r.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:cB(cx),ajaxTransport:cB(cy),ajax:function(a,b){function y(a,b,f,i){var k,s,t,u,w,y=b;if(v!==2){v=2,h&&clearTimeout(h),g=d,e=i||"",x.readyState=a>0?4:0,f&&(u=cE(l,x,f));if(a>=200&&a<300||a===304)l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(r.lastModified[c]=w),w=x.getResponseHeader("Etag"),w&&(r.etag[c]=w)),a===304?(y="notmodified",k=!0):(k=cF(l,u),y=k.state,s=k.data,t=k.error,k=!t);else{t=y;if(!y||a)y="error",a<0&&(a=0)}x.status=a,x.statusText=(b||y)+"",k?o.resolveWith(m,[s,y,x]):o.rejectWith(m,[x,y,t]),x.statusCode(q),q=d,j&&n.trigger("ajax"+(k?"Success":"Error"),[x,l,k?s:t]),p.fireWith(m,[x,y]),j&&(n.trigger("ajaxComplete",[x,l]),--r.active||r.event.trigger("ajaxStop"))}}typeof a=="object"&&(b=a,a=d),b=b||{};var c,e,f,g,h,i,j,k,l=r.ajaxSetup({},b),m=l.context||l,n=m!==l&&(m.nodeType||m instanceof r)?r(m):r.event,o=r.Deferred(),p=r.Callbacks("once memory"),q=l.statusCode||{},s={},t={},v=0,w="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return v===2?e:null},getResponseHeader:function(a){var b;if(v===2){if(!f){f={};while(b=co.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return b===d?null:b},overrideMimeType:function(a){v||(l.mimeType=a);return this},abort:function(a){a=a||w,g&&g.abort(a),y(0,a);return this}};o.promise(x),x.success=x.done,x.error=x.fail,x.complete=p.add,x.statusCode=function(a){if(a){var b;if(v<2)for(b in a)q[b]=[q[b],a[b]];else b=a[x.status],x.always(b)}return this},l.url=((a||l.url)+"").replace(cn,"").replace(cr,cl[1]+"//"),l.dataTypes=r.trim(l.dataType||"*").toLowerCase().split(u),l.crossDomain==null&&(i=cv.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===cl[1]&&i[2]===cl[2]&&(i[3]||(i[1]==="http:"?80:443))==(cl[3]||(cl[1]==="http:"?80:443)))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=r.param(l.data,l.traditional)),cC(cx,l,b,x);if(v===2)return x;j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!cq.test(l.type),j&&r.active++===0&&r.event.trigger("ajaxStart");if(!l.hasContent){l.data&&(l.url+=(cs.test(l.url)?"&":"?")+l.data,delete l.data),c=l.url;if(l.cache===!1){var z=r.now(),A=l.url.replace(cu,"$1_="+z);l.url=A+(A===l.url?(cs.test(l.url)?"&":"?")+"_="+z:"")}}(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&x.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(c=c||l.url,r.lastModified[c]&&x.setRequestHeader("If-Modified-Since",r.lastModified[c]),r.etag[c]&&x.setRequestHeader("If-None-Match",r.etag[c])),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+cz+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)x.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,x,l)===!1||v===2))return x.abort();w="abort";for(k in{success:1,error:1,complete:1})x[k](l[k]);g=cC(cy,l,b,x);if(!g)y(-1,"No Transport");else{x.readyState=1,j&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{v=1,g.send(s,y)}catch(B){if(v<2)y(-1,B);else throw B}}return x},active:0,lastModified:{},etag:{}});var cG=[],cH=/\?/,cI=/(=)\?(?=&|$)|\?\?/,cJ=r.now();r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cG.pop()||r.expando+"_"+cJ++;this[a]=!0;return a}}),r.ajaxPrefilter("json jsonp",function(a,b,c){var e,f,g,h=a.data,i=a.url,j=a.jsonp!==!1,k=j&&cI.test(i),l=j&&!k&&typeof h=="string"&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&cI.test(h);if(a.dataTypes[0]==="jsonp"||k||l){e=a.jsonpCallback=r.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,f=window[e],k?a.url=i.replace(cI,"$1"+e):l?a.data=h.replace(cI,"$1"+e):j&&(a.url+=(cH.test(i)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){g||r.error(e+" was not called");return g[0]},a.dataTypes[0]="json",window[e]=function(){g=arguments},c.always(function(){window[e]=f,a[e]&&(a.jsonpCallback=b.jsonpCallback,cG.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=d});return"script"}}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){r.globalEval(a);return a}}}),r.ajaxPrefilter("script",function(a){a.cache===d&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=g.head||g.getElementsByTagName("head")[0]||g.documentElement;return{send:function(e,f){b=g.createElement("script"),b.async="async",a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,e){if(e||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=d,e||f(200,"success")},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var cK,cL=window.ActiveXObject?function(){for(var a in cK)cK[a](0,1)}:!1,cM=0;r.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&cN()||cO()}:cN,function(a){r.extend(r.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(r.ajaxSettings.xhr()),r.support.ajax&&r.ajaxTransport(function(a){if(!a.crossDomain||r.support.cors){var b;return{send:function(c,e){var f,g,h=a.xhr();a.username?h.open(a.type,a.url,a.async,a.username,a.password):h.open(a.type,a.url,a.async);if(a.xhrFields)for(g in a.xhrFields)h[g]=a.xhrFields[g];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType),!a.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");try{for(g in c)h.setRequestHeader(g,c[g])}catch(i){}h.send(a.hasContent&&a.data||null),b=function(c,g){var i,j,k,l,m;try{if(b&&(g||h.readyState===4)){b=d,f&&(h.onreadystatechange=r.noop,cL&&delete cK[f]);if(g)h.readyState!==4&&h.abort();else{i=h.status,k=h.getAllResponseHeaders(),l={},m=h.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=h.responseText}catch(n){}try{j=h.statusText}catch(n){j=""}!i&&a.isLocal&&!a.crossDomain?i=l.text?200:404:i===1223&&(i=204)}}}catch(o){g||e(-1,o)}l&&e(i,j,l,k)},a.async?h.readyState===4?setTimeout(b,0):(f=++cM,cL&&(cK||(cK={},r(window).unload(cL)),cK[f]=b),h.onreadystatechange=b):b()},abort:function(){b&&b(0,1)}}}});var cP,cQ,cR=/^(?:toggle|show|hide)$/,cS=new RegExp("^(?:([-+])=|)("+s+")([a-z%]*)$","i"),cT=/queueHooks$/,cU=[c$],cV={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=cS.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){c=+f[2],d=f[3]||(r.cssNumber[a]?"":"px");if(d!=="px"&&h){h=r.css(e.elem,a,!0)||c||1;do i=i||".5",h=h/i,r.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&i!==1&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};r.Animation=r.extend(cY,{tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;d<e;d++)c=a[d],cV[c]=cV[c]||[],cV[c].unshift(b)},prefilter:function(a,b){b?cU.unshift(a):cU.push(a)}}),r.Tween=c_,c_.prototype={constructor:c_,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=c_.propHooks[this.prop];return a&&a.get?a.get(this):c_.propHooks._default.get(this)},run:function(a){var b,c=c_.propHooks[this.prop];this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):c_.propHooks._default.set(this);return this}},c_.prototype.init.prototype=c_.prototype,c_.propHooks={_default:{get:function(a){var b;if(a.elem[a.prop]!=null&&(!a.elem.style||a.elem.style[a.prop]==null))return a.elem[a.prop];b=r.css(a.elem,a.prop,!1,"");return!b||b==="auto"?0:b},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):a.elem.style&&(a.elem.style[r.cssProps[a.prop]]!=null||r.cssHooks[a.prop])?r.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},c_.propHooks.scrollTop=c_.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(d,e,f){return d==null||typeof d=="boolean"||!a&&r.isFunction(d)&&r.isFunction(e)?c.apply(this,arguments):this.animate(da(b,!0),d,e,f)}}),r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(b_).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=cY(this,r.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var e=function(a){var b=a.stop;delete a.stop,b(c)};typeof a!="string"&&(c=b,b=a,a=d),b&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,d=a!=null&&a+"queueHooks",f=r.timers,g=r._data(this);if(d)g[d]&&g[d].stop&&e(g[d]);else for(d in g)g[d]&&g[d].stop&&cT.test(d)&&e(g[d]);for(d=f.length;d--;)f[d].elem===this&&(a==null||f[d].queue===a)&&(f[d].anim.stop(c),b=!1,f.splice(d,1));(b||!c)&&r.dequeue(this,a)})}}),r.each({slideDown:da("show"),slideUp:da("hide"),slideToggle:da("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.speed=function(a,b,c){var d=a&&typeof a=="object"?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};d.duration=r.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in r.fx.speeds?r.fx.speeds[d.duration]:r.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(){r.isFunction(d.old)&&d.old.call(this),d.queue&&r.dequeue(this,d.queue)};return d},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},r.timers=[],r.fx=c_.prototype.init,r.fx.tick=function(){var a,b=r.timers,c=0;cP=r.now();for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||r.fx.stop(),cP=d},r.fx.timer=function(a){a()&&r.timers.push(a)&&!cQ&&(cQ=setInterval(r.fx.tick,r.fx.interval))},r.fx.interval=13,r.fx.stop=function(){clearInterval(cQ),cQ=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fx.step={},r.expr&&r.expr.filters&&(r.expr.filters.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length});var db=/^(?:body|html)$/i;r.fn.offset=function(a){if(arguments.length)return a===d?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(!!l){if((c=l.body)===k)return r.offset.bodyOffset(k);b=l.documentElement;if(!r.contains(b,k))return j;typeof k.getBoundingClientRect!="undefined"&&(j=k.getBoundingClientRect()),e=dc(l),f=b.clientTop||c.clientTop||0,g=b.clientLeft||c.clientLeft||0,h=e.pageYOffset||b.scrollTop,i=e.pageXOffset||b.scrollLeft;return{top:j.top+h-f,left:j.left+i-g}}},r.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;r.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(r.css(a,"marginTop"))||0,c+=parseFloat(r.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=r.css(a,"position");d==="static"&&(a.style.position="relative");var e=r(a),f=e.offset(),g=r.css(a,"top"),h=r.css(a,"left"),i=(d==="absolute"||d==="fixed")&&r.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),r.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},r.fn.extend({position:function(){if(!!this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=db.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(r.css(a,"marginTop"))||0,c.left-=parseFloat(r.css(a,"marginLeft"))||0,d.top+=parseFloat(r.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(r.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||g.body;while(a&&!db.test(a.nodeName)&&r.css(a,"position")==="static")a=a.offsetParent;return a||g.body})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);r.fn[a]=function(e){return r.access(this,function(a,e,f){var g=dc(a);if(f===d)return g?b in g?g[b]:g.document.documentElement[e]:a[e];g?g.scrollTo(c?r(g).scrollLeft():f,c?f:r(g).scrollTop()):a[e]=f},a,e,arguments.length,null)}}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,e){r.fn[e]=function(e,f){var g=arguments.length&&(c||typeof e!="boolean"),h=c||(e===!0||f===!0?"margin":"border");return r.access(this,function(b,c,e){var f;if(r.isWindow(b))return b.document.documentElement["client"+a];if(b.nodeType===9){f=b.documentElement;return Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])}return e===d?r.css(b,c,e,h):r.style(b,c,e,h)},b,g?e:d,g,null)}})}),typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return r});return r});define("basic/Util",function(a,b,c){function y(a,b){b=b||{};if(typeof a=="function")return a(b);return x(a,b)}function x(a,b){var c="",d=document.getElementById("tmpl_"+a),e=!/\W\//.test(a)&&d?f[a]=f[a]||x(d.innerHTML):new Function("tmplData","tmpl",w(a));if(b)try{return e(b,y)}catch(g){}return e}function w(a){return"var p=[];with(tmplData){p.push('"+a.replace(h,"").replace(j,"").replace(g," ").replace(k,">$1<").split("<%").join("\t").replace(l,"$1\r").replace(m,"',$1,'").split("\t").join("');\n").split("%>").join("\np.push('").split("\r").join("\\'")+"');}return p.join('');"}function v(a){switch(a){case"yyyy":return n;case"yy":return n.toString().slice(-2);case"MM":return u(o);case"M":return o;case"dd":return u(p);case"d":return p;case"HH":return u(q);case"H":return q;case"hh":return u(q>12?q-12:q);case"h":return q>12?q-12:q;case"mm":return u(r);case"m":return r;case"ss":return u(s);case"s":return s;default:return a}}function u(a){return a<10?"0"+a:a}var d=a("basic/jquery"),e={},f={},g=/[\r\t\n]/g,h=/^\s+/,j=/\s+$/,k=/>\s*(.*?)\s*</g,l=/((^|%>)[^\t]*)'/g,m=/\t=(.*?)%>/g,n,o,p,q,r,s,z={format:function(a){if(typeof a=="undefined")return"";if(typeof a!="object")throw new Error("data sended to the server must be 'object'");var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&").replace(/%20/g,"+")},log:function(a){},login:function(){d(document).trigger("error",["needLogin"])},reg:function(){d(document).trigger("error",["needReg"])},stripTime:function(a){return a.replace(/\+0800|\S\S\S\+0800|CST/g,"")},replace:function(a,b){for(key in b)Object.prototype.hasOwnProperty.call(b,key)&&(a=a.replace(new RegExp(key,"g"),b[key]));return a},getLength:function(a){return Math.ceil(a.replace(/[\uFE30-\uFFA0\u2E80-\u9FFF\uac00-\ud7ff\u3000‘“”’]/g,"**").length/2)},getleftLength:function(a){return Math.floor(a.replace(/[\uFE30-\uFFA0\u2E80-\u9FFF\uac00-\ud7ff\u3000‘“”’]/g,"**").length/2)},getsize:function(a){return a.replace(/[\uFE30-\uFFA0\u2E80-\u9FFF\uac00-\ud7ff\u3000‘“”’]/g,"**").length},isLegal:function(a){for(var b=0;b<a.length;b++)if(a.charCodeAt(b)>255)return!1;return!0},cutString:function(a,b,c){var c=c*2;if(!a||!c)return"";var d=0,e=0,f="";for(e=b;e<a.length;e++){a.charCodeAt(e)>255?d+=2:d++;if(d>c)return f;f+=a.charAt(e)}return a},subString:function(a,b,c){var c=c*2;if(!a||!c)return"";var d=0,e=0,f="";for(e=b;e<a.length;e++){a.charCodeAt(e)>255?d+=2:d++;if(d>c){z.getleftLength(a)>c-1&&(f=f+"...");return f}f+=a.charAt(e)}z.getleftLength(a)>c-1&&(a=a+"...");return a},formatTemplate:y,follow:function(a,b){var c=b||function(){};d.post("/user/follow",{followId:a},function(a){a.status==1&&b()})},defollow:function(a,b){var c=b||function(){};d.post("/user/unfollow",{followId:a},function(a){a.status==1&&b()})},bubbleNode:function(a,b,c){var d=!1;do{if(b(a)){d=!0;break}a=a.parentNode}while(a.parentNode);d&&c()},bubbleNodeNe:function(a,b,c){var d=!0;do{if(b(a)){d=!1;break}a=a.parentNode}while(a.parentNode);d&&c()},getSelectText:function(){return document.selection?function(){return document.selection.createRange().text}:function(){return document.getSelection()}}(),getLinkParam:function(a){return a.getAttribute("href").replace("javascript://","")},getImageUrl:function(a,b,c,d){var b=b,e=a.split(".")[1],c=c||b,f=1;!d&&d==0&&(f=d);return"http://imgsize.ph.126.net/?imgurl="+a+"_"+b+"x"+c+"x"+f+"x85."+e},formatDate:function(a,b){var c=new Date(a);n=c.getFullYear(),o=c.getMonth()+1,p=c.getDate(),q=c.getHours(),r=c.getMinutes(),s=c.getSeconds();return b.replace(/y+|m+|d+|h+|s+|H+|M+/g,v)},refresh:function(){window.location.reload()},wealth:{0:"屌丝",1:"一富",2:"二富",3:"三富",4:"四富",5:"五富",6:"六富",7:"七富",8:"八富",9:"九富",10:"十富",11:"男爵",12:"子爵",13:"伯爵",14:"侯爵",15:"公爵",16:"郡公",17:"国公",18:"王爵",19:"藩王",20:"郡王",21:"亲王",22:"国王",23:"帝王",24:"皇帝",25:"天君",26:"帝君",27:"圣君",28:"主君",29:"仙君",30:"神"},anchor:{0:"0星",1:"1星",2:"2星",3:"3星",4:"4星",5:"5星",6:"1钻",7:"2钻",8:"3钻",9:"4钻",10:"5钻",11:"1皇冠",12:"2皇冠",13:"3皇冠",14:"4皇冠",15:"5皇冠",16:"6皇冠",17:"7皇冠",18:"8皇冠",19:"9皇冠",20:"10皇冠",21:"11皇冠",22:"12皇冠",23:"13皇冠",24:"14皇冠",25:"15皇冠",26:"16皇冠",27:"17皇冠",28:"18皇冠",29:"19皇冠",30:"20皇冠",31:"五彩冠",32:"五彩1星",33:"五彩2星",34:"五彩3星",35:"五彩4星",36:"五彩5星",37:"五彩1钻",38:"五彩2钻",39:"五彩3钻",40:"五彩4钻",41:"五彩5钻",42:"五彩1冠",43:"五彩2冠",44:"五彩3冠",45:"五彩4冠",46:"五彩5冠",47:"五彩6冠",48:"五彩7冠",49:"五彩8冠",50:"五彩9冠",51:"五彩10冠",52:"五彩11冠",53:"五彩12冠",54:"五彩13冠",55:"五彩14冠",56:"五彩15冠",57:"五彩16冠",58:"五彩17冠",59:"五彩18冠",60:"五彩19冠",61:"五彩20冠",62:"黄金冠",63:"黄金1星",64:"黄金2星",65:"黄金3星",66:"黄金4星",67:"黄金5星",68:"黄金1钻",69:"黄金2钻",70:"黄金3钻",71:"黄金4钻",72:"黄金5钻",73:"黄金1冠",74:"黄金2冠",75:"黄金3冠",76:"黄金4冠",77:"黄金5冠",78:"黄金6冠",79:"黄金7冠",80:"黄金8冠",81:"黄金9冠",82:"黄金10冠",83:"黄金11冠",84:"黄金12冠",85:"黄金13冠",86:"黄金14冠",87:"黄金15冠",88:"黄金16冠",89:"黄金17冠",90:"黄金18冠",91:"黄金19冠",92:"黄金20冠",93:"宝石冠"}};z.EMAIL_REG=/^[a-zA-Z0-9_\-\.]{1,}@[a-zA-Z0-9_\-]{1,}\.[a-zA-Z0-9_\-.]{1,}$/,z.validateEmail=function(a){if(typeof a!="string")return!1;return z.EMAIL_REG.test(a)},z.countChars=function(a,b,c){var d=a.replace(/[\u4e00-\u9fa5\s]/g,"**").length,e=[],f=0;if(d<=b)return a;for(var g=0;g<d;g++){var h=a.charAt(g);/[^\x00-\xff]/.test(h)?f+=2:f+=1,e.push(h);if(f>=b)break}return c?e.join(""):e.join("")+"..."},z.encodeSpecialHtmlChar=function(a){if(a){var b=["&","<",">",'"'],c=["&amp;","&lt;","&gt;","&quot;"],d=c.length;for(var e=0;e<d;e++)a=a.replace(new RegExp(b[e],"g"),c[e]);return a}return""},z.decodeSpecialHtmlChar=function(a){if(a){var b=["&amp;","&lt;","&gt;","&quot;","&#quot","&#rmrow","&#lmrow","&apos;"],c=["&","<",">",'"',"'","(",")","'"],d=c.length;for(var e=0;e<d;e++)a=a.replace(new RegExp(b[e],"g"),c[e]);return a}return""},z.formatNumber=function(a,b){b=b>0&&b<=20?b:2,a=parseFloat((a+"").replace(/[^\d\.-]/g,"")).toFixed(b)+"";var c=a.split(".")[0].split("").reverse(),d=a.split(".")[1];t="";for(i=0;i<c.length;i++)t+=c[i]+((i+1)%3==0&&i+1!=c.length?",":"");return t.split("").reverse().join("")},z.recoverNumber=function(a){return parseFloat(a.replace(/[^\d\.-]/g,""))},z.delQueStr=function(a,b){var c="";if(a.indexOf("?")!=-1)c=a.substr(a.indexOf("?")+1);else return a;var d="",e="",f="";if(c.indexOf("&")!=-1){d=c.split("&");for(i in d)d[i].split("=")[0]!=b&&(e=e+d[i].split("=")[0]+"="+d[i].split("=")[1]+"&");return a.substr(0,a.indexOf("?"))+"?"+e.substr(0,e.length-1)}d=c.split("=");return d[0]==b?a.substr(0,a.indexOf("?")):a},z.getUrlStrs=function(a){var b=[],c,d;if(a.indexOf("?")!=-1){d=a.substr(a.indexOf("?")+1);var e=d.split("&")}else var e=[];for(var f=0;f<e.length;f++)c=e[f].split("="),b.push(c[0]),b[c[0]]=c[1];return b},z.getUrlStr=function(a,b){return z.getUrlStrs(b)[a]||""};return z});define("common/FloatWin/FloatWin",function(a,b,c){function m(a,b){l!==null&&l.hide(),l=new a(b);return l}function k(a){var b=this,c={preRender:function(){return{content:"",title:""}},postRender:function(){}};for(var h in a)c[h]=a[h];b.opts=c;var i=b.opts.preRender(),j=b.opts.tpl||g.win;b.$elem=d(e.formatTemplate(j,i)).appendTo("body").hide(),b.opts.postRender.apply(null,[b.$elem]),this.win=new f(b.$elem,!0,"display",!0)}function j(a){var b=this,c={title:"输入验证码",url:"",confirmFunc:function(a,b){}};for(var h in a)c[h]=a[h];b.opts=c,this.$elem=d(e.formatTemplate(g.win3,c)).appendTo("body"),this.win=new f(this.$elem,!0,"display",!0);var i=d("#winDialogLayer"),j=i.find(".js-codeurl"),k=i.find(".js-codefresh"),l=i.find(".js-codeinput"),m=i.find(".js-codeerror");k.click(function(){j.attr("src",c.url+"&timestamp="+(new Date).getTime()),m.hide();return!1}),d.browser.msie&&parseInt(d.browser.version,10)<7&&setTimeout(function(){k.click()},100),i.find(".js-confirm").click(function(){b.opts.confirmFunc(l,m,j)}),l.keydown(function(a){if(a.keyCode==13){b.opts.confirmFunc(l,m,j);return!1}})}function i(a){var b=this,c={content:"",sub:"",buttonText1:"确定",confirmFunc:function(){},showButton:!1,notAutoHide:!1};for(var h in a)c[h]=a[h];b.opts=c,this.$elem=d(e.formatTemplate(g.win2,c)).appendTo("body"),this.win=new f(this.$elem,!0,"display",!0),this.$elem.find(".js-confirm").click(function(a){b.opts.confirmFunc(a)})}function h(a){var b=this,c={content:"",sub:"",buttonText1:"确定",buttonText2:"取消",confirmFunc:function(){},cancelFunc:function(){}};for(var h in a)c[h]=a[h];b.opts=c,this.$elem=d(e.formatTemplate(g.win1,c)).appendTo("body"),this.win=new f(this.$elem,!0,"display",!0),this.$elem.find(".js-confirm").click(function(a){b.opts.confirmFunc(a)}),this.$elem.find(".js-cancel").click(function(){b.opts.cancelFunc()})}var d=a("basic/jquery"),e=a("basic/Util"),f=a("common/Win"),g=a("common/FloatWin/Tpl");h.prototype.show=function(){this.win.show()},h.prototype.hide=function(){this.win.hide()},i.prototype.show=function(){var a=this;a.win.show(),!a.opts.showButton&&!a.opts.notAutoHide&&setTimeout(function(){a.hide()},1e3)},i.prototype.hide=function(){this.win.hide()},j.prototype.show=function(){this.win.show()},j.prototype.hide=function(){this.win.hide()},k.prototype.show=function(){this.win.show()},k.prototype.hide=function(){this.win.hide(),this.$elem&&this.$elem.detach()};var l=null;return{ConfirmsWin:h,AlertWin:i,CheckCodeWin:j,PopWin:function(a){return m(k,a)}}});define("common/Win",function(a,b,c,d){var e=a("basic/jquery"),f=document.documentElement,g=document.body,h=Array.prototype.slice;Function.prototype.bind=function(){if(!arguments.length)return this;var a=this,b=h.call(arguments),c=b.shift();return function(){return a.apply(c,b.concat(h.call(arguments)))}};var i=new function(){var a=document.createElement("div"),b=!1;a.id="shade",g.appendChild(a),e.browser.msie&&parseInt(e.browser.version,10)<7&&(a.innerHTML="<iframe style='position:absolute;width:100%;height:100%;_filter:alpha(opacity=0);opacity=0;border:1px solid #DDD;z-index:-1;top:100;left:0;'></iframe>"),this.show=function(){var c=this;c._setposEvent=null;if(!b){c.shadeResize(a);if(e.browser.msie&&parseInt(e.browser.version,10)<7){var d=function(){c.IE6Position()};c.IE6Position(),c._setposEvent&&window.detachEvent("scroll",d),c._setposEvent=window.attachEvent("scroll",d)}a.style.display="block",b=!0}c.shadeSizeFunc=function(){c.shadeResize(a)},e(window).bind("resize",c.shadeSizeFunc)},this.shadeResize=function(a){a.style.width=Math.max(f.scrollWidth,f.clientWidth)+"px",a.style.height=Math.max(f.scrollHeight,f.clientHeight)+"px",a.style.top="0px"},this.IE6Position=function(){var b=Math.max(f.scrollHeight,f.clientHeight);a.style.width=Math.max(f.scrollWidth,f.clientWidth)+"px",a.style.position="absolute",a.style.height=Math.min(b,3e3)+"px",a.style.top=Math.min(Math.max(b-3e3,0),Math.max(f.scrollTop-3e3+window.screen.availHeight,0))+"px"},this.hide=function(){var c=this;a.style.display="none",b=!1,e(window).unbind("resize",c.shadeSizeFunc)}},j=function(a,b){function n(b){a.setCapture?a.setCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),h={x:b.pageX-a.offset().left,y:b.pageY-a.offset().top},e(g).mousemove(l),e(g).mouseup(m),i&&i(a,this),b.preventDefault()}function m(){a.releaseCapture?a.releaseCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),e(g).unbind("mousemove",l),e(g).unbind("mouseup",m),k&&k(a)}function l(b){var e={x:Math.max(0,Math.min(f.scrollWidth-a.width(),b.pageX-h.x)),y:Math.max(0,Math.min(f.scrollHeight-a.height(),b.pageY-h.y))};a.css("left",e.x+"px"),a.css("top",e.y+"px"),d={x:e.x-(c?document.body.scrollLeft:0),y:e.y-(c?document.body.scrollTop:0)},j&&j(a,this,e),b.cancelBubble=!0}this.constructor=arguments.callee;var c=a.css("position").toLowerCase()==="fixed",d={x:a.offset().left||0-(c?document.body.scrollLeft:0),y:a.offset().top||0-(c?document.body.scrollTop:0)},h,i,j,k;this.setOnDragStart=function(a){i=a},this.setOnMove=function(a){onMove=a},this.setOnStopMove=function(a){onStopMove=a},this.init=function(){b.mousedown(function(a){n(a)})}},k=function(a,b,c,d,f){if(!!arguments.length){var g=this;g.constructor=arguments.callee,g._wrapper=a,g._showType=c||"display",g._showTypeObject={display:{show:"block",hidden:"none"},visibility:{show:"visible",hidden:"hidden"}},g._isShade=b||!1,g._isDeleteNode=d||!1,g._isShowed=a.css(g._showType).toLowerCase()!=g._showTypeObject[g._showType].hidden,g._isFixed=!0,a.css("position","fixed"),e.browser.msie&&parseInt(e.browser.version,10)<7&&(g._isFixed=!1,a.css("position","absolute")),g.isClickClose=f,(new j(a,a.find(".js-move"))).init(),a.delegate(".js-close","click",function(a){g.hide();return!1}).bind("drag",function(a){a.cancelBubble=!0})}};k.prototype={getWidth:function(){return this._wrapper.width()},getHeight:function(){return this._wrapper.height()},show:function(a,b,c){var d=this;if(!d._isShowed){var g=d._wrapper;e.browser.msie&&parseInt(e.browser.version,10)<7&&(d._tempTop=f.scrollTop,d._tempScroll=d._scroll),g.css(d._showType,d._showTypeObject[d._showType].show),d.resize(a,b,g),d.onShow&&d.onShow(),d._isShowed=!0,c&&(d._hideTimer=setTimeout(function(){d.hide()},c*1e3)),e(document).keydown(d.keydownListionEvent.bind(d)),d.isClickClose&&e(document).click(d.clickListionEvent.bind(d)),d.sizeFunc=function(){d.resize(a,b,g)},e(window).bind("resize",d.sizeFunc)}},resize:function(a,b,c){var d=this,e,h;if(d._isFixed)e=null==a||isNaN(a)?parseInt((f.clientWidth-c.width())/2):a-f.scrollLeft,h=null==b||isNaN(b)?parseInt((f.clientHeight-c.height())/2.3):b-(f.scrollTop==0?g.scrollTop:f.scrollTop);else{var j=self.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;e=null==a||isNaN(a)?parseInt((f.clientWidth-c.width())/2+f.scrollLeft):a,h=null==b||isNaN(b)?parseInt((f.clientHeight-c.height())/2.3+j):b}c.css("left",e+"px"),c.css("top",h+"px"),d._isShade&&i.show()},hide:function(){var a=this;if(a._isShowed){a.onHide&&a.onHide(),a._isShowed=!1,a._hideTimer&&(clearTimeout(a._hideTimer),a._hideTimer=null),a._isShade&&i.hide(),e(document).unbind("keydown",a.keydownListionEvent.bind(a)),a.isClickClose&&e(document).unbind("click",a.clickListionEvent.bind(a));if(a._isDeleteNode)a._wrapper.detach();else{var b=a._showTypeObject[a._showType].hidden;a._wrapper.css(a._showType,b),a._wrapper.css({left:"0",top:"0"})}e(window).unbind("resize",a.sizeFunc)}},_scroll:function(){var a=this;a._wrapper.css("top",parseInt(a._wrapper.style.top)+f.scrollTop-a._tempTop+"px"),a._tempTop=f.scrollTop},keydownListionEvent:function(a){var b=this;a.keyCode==27&&b.hide()},clickListionEvent:function(a){var b=this,c=a.target?a.target:event.srcElement;do{if(c.className=="dialog")return;if(c.tagName.toUpperCase()=="BODY"||c.tagName.toUpperCase()=="HTML"){b.hide();return}c=c.parentNode}while(c.parentNode)}};return k});define("common/FloatWin/Tpl",function(a,b,c){return{win1:'<div class="dialogLayer popWidth"  id="winDialogLayer">\n               <div class="dialogLayer-hd">\n                  <a class="png24 btn-close js-close" href="javascript:;" title="关闭"></a>\n               </div>\n               <div class="dialogLayer-bd">\n   \t            <h3><%=content%></h3>\n   \t            <p class="cGray"><%=sub%></p>\n   \t            <p><a class="orange-btnS js-confirm" href="javascript:;"><%=buttonText1%></a><a class="gray-btnS js-close js-cancel" href="javascript:;"><%=buttonText2%></a></p>\n               </div>\n            </div>',win2:'<div class="dialogLayer popWidth" id="winDialogLayer" style="_position:absolute">\n               <div class="dialogLayer-hd">\n                  <a class="png24 btn-close js-close" href="javascript:;" title="关闭"></a>\n               </div>\n               <div class="dialogLayer-bd js-bd">\n   \t            <h3><%=content%></h3>\n   \t            <p class="cGray"><%=sub%></p>\n   \t            <%if(showButton){%>\n   \t            <p><a class="orange-btnS js-close js-confirm" href="javascript:;"><%=buttonText1%></a></p>\n   \t            <%}%>\n               </div>\n            </div>',win3:'<div class="dialogLayer popWidth" id="winDialogLayer" style="_position:absolute">\n               <div class="dialogLayer-hd">\n                  <a class="png24 btn-close js-close" href="javascript:;" title="关闭"></a>\n               </div>\n               <div class="dialogLayer-bd">\n   \t            <h3><%=title%></h3>\n   \t            <div>\n   \t             <img src="<%=url%>" class="js-codeurl"/><a href="javascript:;" class="js-codefresh">点此刷新</a>\n   \t             <div>\n   \t             <input type="text" class="js-codeinput" style="width:100px;height:20px;border:1px solid #ccc; margin-bottom:10px;margin-top:10px;"/>\n   \t             <span class="js-codeerror" style="color:#F44103;display:none;_position:relative;_top:-10px"> 验证码错误</span>\n   \t             </div>\n   \t            </div>\n   \t            <p><a class="orange-btnS js-confirm" href="javascript:;">确定</a></p>\n               </div>\n            </div>',win:'<div class="dialogLayer">\n               <div class="dialogLayer-hd">\n                  <a class="png24 btn-close js-close" href="javascript:;" title="关闭"></a>\n               </div>\n               <div class="dialogLayer-bd clearfix js-bd">\n   \t            <%=content%>\n               </div>\n            </div>'}});define("common/NaviTip",function(a,b,c){var d=a("basic/jquery"),e=a("basic/oop/Class"),f=e.extend({init:function(a,b){this.$elem=null,this.data=a,this.config=b,this._timer=null},render:function(){this.$elem=d('<p class="tips" style="z-index:1600"><span class="correct js-top-tip"></span></p>').appendTo("body"),d.browser.msie&&parseInt(d.browser.version,10)<7&&d(window).bind("scroll resize",d.proxy(this.onSetTopPosition,this)),this.$topTip=this.$elem.find(".js-top-tip");return this.$elem},show:function(a,b){this.$elem===null&&this.render();!a||a===""?this.$elem.hide():(this._timer&&clearTimeout(this._timer),this.$topTip.removeClass("error"),b=b||"success",this.$topTip.html(a),b==="error"&&this.$topTip.addClass("error"),this.onSetPosition(),this.$elem.hide().fadeIn(700),this.onClose())},onClose:function(){var a=this;this._timer=setTimeout(function(){a.$elem.fadeOut(1e3)},2e3)},onSetPosition:function(){this.$elem.css("marginLeft","-"+this.$elem.innerWidth()/2+"px")},onSetTopPosition:function(){var a=d(window).scrollTop()||0;this.$elem.css("top",a+"px")}}),g=null;return{getInstance:function(){g==null&&(g=new f);return g},show:function(a,b){d.isPlainObject(arguments[0])?this.getInstance().show(arguments[0].text,arguments[0].type):this.getInstance().show(a,b)}}});define("basic/oop/Class",function(a,b,c){function f(a,b){return function(){var c=this._super;this._super=a;var d=b.apply(this,arguments);this._super=c;return d}}var d=!1,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,g=function(){};g.extend=function(a){function h(){!d&&this.init&&this.init.apply(this,arguments)}var b=this.prototype;d=!0;var c=new this;d=!1;for(var g in a)c[g]=typeof a[g]=="function"&&typeof b[g]=="function"&&e.test(a[g])?f(b[g],a[g]):a[g];h.prototype=c,h.constructor=h,h.extend=arguments.callee;return h};return g});define("common/nav/Public",function(a,b,c){var d=a("common/error/ErrorManager");d.bindEvent(),a("common/Log/Log"),a("common/Login/Login"),a("common/Reg/Reg"),a("common/play");var e=a("basic/jquery"),f=a("basic/cookie"),g=a("common/Login/ImproUserInfo");(new g).show(),CONFIG.islogined&&e.get("/forceBindAccount",function(a){if(a.status==1){var b="isBindEpay"+CONFIG.userId;f(b)||(f(b,"1",{expires:1}),window.location.href="/family/bindEpay")}}),a("common/buy");var h=a("common/Feedback/Feedback")});define("common/error/ErrorManager",function(a,b,c){var d=a("basic/jquery"),e=a("common/Login/LoginBox"),f=a("common/Reg/RegBox"),g=a("common/error/ErrorCatch"),h={networkErrorCount:0,loginBox:null,regBox:null,bindEvent:function(){d(document).bind("error",d.proxy(this.handleError,this))},handleError:function(a,b,c){var g=null;if(b==="needLogin")this.loginBox||(this.loginBox=new e),this.loginBox.show();else if(b==="needReg")this.regBox||(this.regBox=new f),this.regBox.show();else if(d.isPlainObject(c)&&b==="network"&&this.networkErrorCount<2){this.networkErrorCount++;return}}};return h});define("common/Login/LoginBox",function(a,b,c){var d=a("basic/jquery"),e=a("basic/oop/Class"),f=a("common/FloatWin/FloatWin"),g=a("basic/Util"),h=a("common/Login/tpl"),i=a("common/Login/LoginSuggest"),j=e.extend({init:function(){this.$elem=null},preRender:function(){var a={url:g.encodeSpecialHtmlChar(window.location.href)};return{content:g.formatTemplate(h.login,a)}},postRender:function(a){a.addClass("loginLayer"),this.$elem=a,this.$inputElem=this.$elem.find("input:text"),this.$passwordElem=this.$elem.find("input:password"),this.$errorTip=this.$elem.find(".js-errorTip"),this.$formElem=this.$elem.find("form"),this.$formElem.delegate("input:text, input:password","focus",d.proxy(this.hideError,this)),this.$formElem.submit(d.proxy(this.onSubmit,this)),this.$elem.find(".dialogLayer-hd").find(".js-close").removeClass("btn-close").addClass("btn-login-close"),this.$elem.find(".dialogLayer-hd").append('<a class="receive-now" href="http://www.bobo.com/special/pcjf/" target="_blank"></a>')},show:function(){f.PopWin({preRender:d.proxy(this.preRender,this),postRender:d.proxy(this.postRender,this)}).show(),this.onLoginSuggest(),this.onPlaceHolder()},onLoginSuggest:function(){var a=document.getElementById("poplayer_username"),b=document.getElementById("poplayer_passport");new i(a,function(){d(b).focus()})},onPlaceHolder:function(){setTimeout(d.proxy(function(){this.$inputElem.focus()},this),0);"placeholder"in document.createElement("input")?this.$formElem.find(".js-defaultText").hide():this.$formElem.delegate(".js-defaultText","click",function(){d(this).prev("input").focus()}).delegate("input","keyup",function(){d.trim(d(this).val())===""?d(this).next(".js-defaultText").show():d(this).next(".js-defaultText").hide()})},onCheckVal:function(){var a=d.trim(this.$inputElem.val()),b=this.$passwordElem.val();if(a===""){this.showError("邮箱帐号不能为空");return!1}if(!g.validateEmail(a)){this.showError("邮箱格式有误");return!1}if(b===""){this.showError("密码不能为空");return!1}this.hideError();return!0},onSubmit:function(a){this.onCheckVal()||a.preventDefault()},showError:function(a){this.$errorTip.show().find("span").text(a)},hideError:function(){this.$errorTip.hide()}});return j});define("common/Login/tpl",function(a,b,c){var d={login:'<form action="https://reg.163.com/logins.jsp" method="POST" id="minLoginForm" name="loginform" target="_self">\n                <div class="login-area">\n                   <h2>海量直播，线上娱乐</h2>\n                   <p class="login-error-tip js-errorTip" style="display: none;"><em class="png24 icon-error"></em><span></span></p>\n                   <p class="login-item">\n                      <input class="login-mail" type="text" name="username" id="poplayer_username" autocomplete="off" placeholder="网易邮箱帐号">\n                      <label class="login-default-text js-defaultText">网易邮箱帐号</label>\n                   </p>\n                   <p class="login-item">\n                      <input class="login-pwd" type="password" name="password" id="poplayer_passport" placeholder="密码">\n                      <label class="login-default-text js-defaultText">密码</label>\n                   </p>\n                   <p class="login-check"><label class="fl"><input type="checkbox" value="1" name="savelogin" checked="checked">下次自动登录</label><a href="http://reg.163.com/RecoverPasswd1.shtml">忘记密码</a></p>\n                   <input type="hidden" name="url" value="<%=url%>"/>\n                   <input type="hidden" value="bobo" name="product"/>\n                   <input type="hidden" value="bobo.com,163.com" name="domains"/>\n                   <input type="hidden" name="type" value="1"/>\n                   <p><button class="login-btn" type="submit" href="javascript:;">登录</button></p>\n                </div>\n              </form>\n              <div class="no-account">\n                 <p>还没有账号？</p>\n                 <p><a class="regist-ntes no-account-login" href="http://reg.163.com/reg/reg.jsp?product=bobo&url=<%=url%>&loginurl=<%=url%>" data-keyfrom="navi.login163"><em class="png24 icon-ntes"></em>注册网易邮箱</a></p>\n                 <p>或者用社交账号登录</p>\n                 <p><a class="qq-login no-account-login" href="http://reg.163.com/outerLogin/oauth2/connect.do?target=1&domains=bobo.com,163.com&product=bobo&url=<%=url%>&url2=<%=url%>" data-keyfrom="navi.loginqq"><em class="png24 icon-qq"></em>使用腾讯QQ登录</a></p>\n                 <p><a class="sina-login no-account-login" href="http://reg.163.com/outerLogin/oauth2/connect.do?target=3&domains=bobo.com,163.com&product=bobo&url=<%=url%>&url2=<%=url%>" data-keyfrom="navi.loginsina"><em class="png24 icon-sina"></em>使用新浪微博登录</a></p>\n              </div>',improUserInfo:'<form action="/user/userEdit?action=edit" method="post" id="userEdit" target="_self">\n                     <div class="loginLayer-info">\n                        <h2>欢迎来到BoBo!完善个人信息，即可开始精彩bo生活</h2>\n                        <p><label for="nickName"><em></em>昵称：</label>\n                        <input name="nick" class="login-nickname" id="nickName" type="text" value="<%=nick%>">\n                        <input type="hidden"  name="avatar" value="http://img2.cache.netease.com/bobo/image/avatar150.png"/>\n                        <span class="nickname-error-tip" id="nicknameTip" style="display:none;"><em class="png24 icon-error"></em>昵称长度要在2-10个字之间</span>\n                        <span class="nickname-error-tip" id="nicknameErrorTip" style="display:none;"><em class="png24 icon-error"></em>用户名重复</span>\n                        <span class="nickname-error-tip" id="nicknameIllegalTip" style="display:none;"><em class="png24 icon-error"></em>涉及敏感词语，请重新编辑</span>\n                        </p>\n                        <p>\n                           <label><em></em>性别：</label><span class="user-sex"><input type="radio" class="js-gender" name="sex" checked="checked" value="1"> 男</span><span class="user-sex"><input class="js-gender" name="sex" type="radio" value="2">女</span>\n                        </p>\n                        <p>\n                        <label><em></em>生日：</label>\n                        <select class="login-select-year" name="userYear" id="year">\n                        </select>\n                        <input type="hidden" value="2014" id="yearhd"/>\n                        <select class="login-select-date" name="userMonth" id="month">\n                        </select>\n                        <input type="hidden" value="01" id="monthhd"/>\n                        <select class="login-select-date" name="userDay" id="day">\n                        </select>\n                        <input type="hidden" value="01" id="dayhd"/>\n                     </p>\n                     <p>\n                        <label><em></em>所在地：</label>\n                        <select class="login-select-place" name="pid" id="province">\n                        </select>\n                        <input type="hidden" value="1" id="provincehd"/>\n                        <select class="login-select-place" name="cid" id="city">\n                        </select>\n                        <input type="hidden" value="1" id="cityhd"/>\n                        <select class="login-select-city" name="aid" id="county">\n                        </select>\n                        <input type="hidden" value="1" id="countyhd"/>\n                     </p>\n                     <input type="hidden" name="url" value="<%=url%>"/>\n                     <p><input type="submit" class="orange-btn loginLayer-info-confirm" href="javascript:;" value="确定"/></p>\n                     </div>\n                     </form>'};return d});define("common/Login/LoginSuggest",function(a,b,c){function k(a,b,c){if(!!arguments.length){if(!g||a.id!==g.id)f++,g=a;var d=this;d.constructor=arguments.callee,d.toscroll=!1,c&&(d.toscroll=!0),d.usernameInputElement=!1,d.usernameInputElementX=!1,d.usernameInputElementY=!1,d.usernameInputHeight=!1,d.usernameListElement=!1,d._initWidth=0,d._runFuc=b,d.currentSelectIndex=-1,d.domainSelectElmentString='<div style="padding:0px;"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td class="title" style="title" >请选择或继续输入...</td></tr><tr><td><td /></tr></tbody></table></div><div style="display: none;"></div><div id="passport_111"></div>',d.domainSelectElement=!1,d.domainArray=["163.com","126.com","yeah.net","qq.com","vip.163.com","vip.126.com","188.com","gmail.com","sina.com","hotmail.com"],d.helpDivString='<div style="width:100%;" id="passport_helper_div"></div>',d.bind(a)}}function j(){var a=this,b=d("#passportusernamelist"+f),c=d(a.usernameInputElement).position().left,e=d(a.usernameInputElement).position().top;b.css({left:c}),b.css({top:e+d(a.usernameInputElement).outerHeight(!0)})}function i(){var a=this,b=document.getElementById("passportusernamelist"+f),c=h(a.usernameInputElement).x,d=h(a.usernameInputElement).y;b.style.left=c+"px",b.style.top=d+a.usernameInputElement.offsetHeight+"px"}function h(a){var b=0,c=0;while(a!=document.body&&a!=null)c+=a.offsetLeft,b+=a.offsetTop,a=a.offsetParent;return{x:c,y:b}}var d=a("basic/jquery"),e=a("basic/Util"),f=0,g=null;k.prototype={bind:function(a){var b=this;d(a).unbind(),b.usernameInputElement=a;var c=h(b.usernameInputElement);b.usernameInputElementX=c.x,b.usernameInputElementY=c.y,b.handle(),d(b.usernameInputElement).focus(function(){b._initWidth=b.usernameInputElement.offsetWidth-2,b.domainSelectElement.style.width=b.usernameInputElement.offsetWidth-2+"px"})},handle:function(){var a=this,b="passportusernamelist"+f;if(!document.getElementById(b)){var c=document.createElement("DIV");c.id=b,c.className="domainSelector",c.style.display="none",d.browser.msie&&parseInt(d.browser.version,10)<7||a.toscroll?(c.style.position="absolute",d(a.usernameInputElement).parent().css({position:"relative"}).append(d(c))):(c.style.position="fixed",document.body.appendChild(c)),c.innerHTML=a.domainSelectElmentString}a.domainSelectElement=document.getElementById(b),a.usernameListElement=a.domainSelectElement.firstChild.firstChild.rows[1].firstChild,a.currentSelectIndex=0,a.usernameInputElement.onblur=function(){a.doSelect.call(a)};try{this.usernameInputElement.addEventListener("keydown",a.keydownProc.bind(a),!1),this.usernameInputElement.addEventListener("keyup",a.keyupProc.bind(a),!1)}catch(e){try{this.usernameInputElement.attachEvent("onkeydown",a.keydownProc.bind(a)),this.usernameInputElement.attachEvent("onkeyup",a.keyupProc.bind(a))}catch(e){}}d.browser.msie&&parseInt(d.browser.version,10)<7||a.toscroll?j.call(a):(i.call(a),d.browser.msie?(window.attachEvent("onresize",i.bind(a)),parseInt(d.browser.version,10)<7&&a.noscroll&&(a.doc=document.documentElement,a._tempTop=a.doc.scrollTop,a._tempScroll=a._scroll.bind(a),window.attachEvent("scroll",a._tempScroll))):window.onresize=i.bind(a))},preventEvent:function(a){a.cancelBubble=!0,a.returnValue=!1,a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()},_scroll:function(){var a=this;a.domainSelectElement.style.top=parseInt(a.domainSelectElement.style.top)+a.doc.scrollTop-a._tempTop,a._tempTop=a.doc.scrollTop},keyupProc:function(a){var b=this,c=a.keyCode;c==13?b.doSelect():c==38||c==40?(b.clearFocus(),c==38?b.upSelectIndex():b.downSelectIndex(),b.setFocus()):b.changeUsernameSelect()},keydownProc:function(a){var b=this,c=a.keyCode;c==13?d.trim(b.usernameInputElement.value)!=""&&b.preventEvent(a):(c==38||c==40)&&b.preventEvent(a)},clearFocus:function(a){var b=this,a=b.currentSelectIndex;try{var c=b.findTdElement(a);c.style.backgroundColor="white"}catch(d){}},findTdElement:function(a){var b=this;try{var c=b.usernameListElement.firstChild.rows;for(var d=0;d<c.length;++d)if(c[d].firstChild.idx==a)return c[d].firstChild}catch(e){}return!1},upSelectIndex:function(){var a=this,b=a.currentSelectIndex;if(a.usernameListElement.firstChild!=null){var c=a.usernameListElement.firstChild.rows,d;for(d=0;d<c.length;++d)if(c[d].firstChild.idx==b)break;d==0?a.currentSelectIndex=c.length-1:a.currentSelectIndex=c[d-1].firstChild.idx}},downSelectIndex:function(){var a=this,b=a.currentSelectIndex;if(a.usernameListElement.firstChild!=null){var c=a.usernameListElement.firstChild.rows,d=0;for(;d<c.length;++d)if(c[d].firstChild.idx==b)break;d>=c.length-1?a.currentSelectIndex=c[0].firstChild.idx:a.currentSelectIndex=c[d+1].firstChild.idx}},setFocus:function(){var a=this,b=a.currentSelectIndex;try{var c=a.findTdElement(b);c.style.backgroundColor="#D5F1FF"}catch(d){}},changeUsernameSelect:function(){var a=this,b=e.encodeSpecialHtmlChar(this.usernameInputElement.value);if(d.trim(b)=="")this.domainSelectElement.style.display="none";else{var c="",f="",g;(g=b.indexOf("@"))<0?(c=b,f=""):(c=b.substr(0,g),f=b.substr(g+1,b.length));var h=e.countChars(c,28),j=[],k=[];if(f=="")for(var l=0;l<this.domainArray.length;++l)j.push(c+"@"+this.domainArray[l]),k.push(h+"@"+this.domainArray[l]);else for(var l=0;l<this.domainArray.length;++l)this.domainArray[l].indexOf(f)==0&&(j.push(c+"@"+this.domainArray[l]),k.push(h+"@"+this.domainArray[l]));if(j.length>0){a.toscroll||i.call(a),a.domainSelectElement.style.zIndex="10000",a.domainSelectElement.style.backgroundColor="white",a.domainSelectElement.style.display="block";var m=document.createElement("TABLE");m.cellSpacing=0,m.cellPadding=3;var n=document.createElement("TBODY");m.appendChild(n);for(var l=0;l<j.length;++l){var o=document.createElement("TR"),p=document.createElement("TD");p.nowrap="true",p.align="left",p.setAttribute("userName",j[l]),p.innerHTML=k[l],p.idx=l,p.onmouseover=function(){a.clearFocus(),a.currentSelectIndex=this.idx,a.setFocus(),this.style.cursor="hand"},p.onmouseout=function(){},p.onclick=function(){a.doSelect()},o.appendChild(p),n.appendChild(o)}a.usernameListElement.innerHTML="",a.usernameListElement.appendChild(m);var q=0;for(var r=0;r<j.length;++r)j[r].length>q&&(q=j[r].length);q=q*7.4,q<a._initWidth&&(q=a._initWidth),q>306&&(q=306),m.style.width=q+"px",this.domainSelectElement.style.width=m.style.width,this.setFocus(),d(document).keydown(a.keydownListionEvent.bind(a))}else this.domainSelectElement.style.display="none",this.currentSelectIndex=-1}},doSelect:function(){var a=this;a.domainSelectElement.style.display="none";if(d.trim(a.usernameInputElement.value)!=""){var b=a.findTdElement(a.currentSelectIndex);b&&(a.usernameInputElement.value=e.decodeSpecialHtmlChar(b.getAttribute("userName"))),a._runFuc()}},keydownListionEvent:function(a){var b=this;a.keyCode==27&&(this.domainSelectElement.style.display="none",d(document).unbind("keydown",b.keydownListionEvent.bind(b)))}};return k});define("common/Reg/RegBox",function(a,b,c){var d=a("basic/jquery"),e=a("basic/oop/Class"),f=a("common/FloatWin/FloatWin"),g=a("basic/Util"),h=a("common/Reg/tpl"),i=e.extend({preRender:function(){var a={url:g.encodeSpecialHtmlChar(window.location.href)};return{content:g.formatTemplate(h.reg,a)}},postRender:function(a){a.addClass("loginLayer"),this.$elem=a,this.$elem.find(".dialogLayer-hd").find(".js-close").removeClass("btn-close").addClass("btn-login-close"),this.$elem.find(".dialogLayer-hd").append('<a class="receive-now" href="http://www.bobo.com/special/pcjf/" target="_blank"></a>')},show:function(){f.PopWin({preRender:d.proxy(this.preRender,this),postRender:d.proxy(this.postRender,this)}).show()}});return i});define("common/Reg/tpl",function(a,b,c){var d={reg:'<div class="login-area">\n            <h2>海量直播，线上娱乐</h2>\n            <p><a class="ntes-regist" href="http://reg.163.com/reg/reg.jsp?product=bobo&url=<%=url%>&loginurl=<%=url%>" data-keyfrom="navi.reg163">注册网易邮箱</a></p>\n            <p>已有帐号，<a class="cBlue js-need-login" href="javascript:;">登录</a></p>\n         </div>\n         <div class="no-account">\n         <p>或者用社交帐号登录</p>\n         <p><a class="qq-login no-account-login" href="http://reg.163.com/outerLogin/oauth2/connect.do?target=1&domains=bobo.com,163.com&product=bobo&url=<%=url%>&url2=<%=url%>" data-keyfrom="navi.regqq"><em class="png24 icon-qq"></em>使用腾讯QQ登录</a></p>\n         <p><a class="sina-login no-account-login" href="http://reg.163.com/outerLogin/oauth2/connect.do?target=3&domains=bobo.com,163.com&product=bobo&url=<%=url%>&url2=<%=url%>" data-keyfrom="navi.regsina"><em class="png24 icon-sina"></em>使用新浪微博登录</a></p>\n         </div>'};return d});define("common/error/ErrorCatch",function(a,b,c){function d(a){}d.prototype.catches=function(a,b,c){var d=this.getErrorParmas(a,b,c);this.send(d)},d.prototype.send=function(a){var b=function(){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+a[c]);return b.join("&")}();this.sendTrackLog(b)},d.prototype.getErrorParmas=function(a,b,c){return{pageid:window._ba_utm_s||0,file:encodeURIComponent(b)||"",url:encodeURIComponent(location.href),message:encodeURIComponent(a)||"",line:encodeURIComponent(c)||0,samedomain:top==window}},d.prototype.sendRequest=function(a){if(!!a){var b=document.createElement("img");b.onload=function(){b.onload=null,b=null},b.src=a}},d.prototype.sendTrackLog=function(a){var a="/perform.do?key=jserror&_t="+(new Date).getTime()+"&"+a;this.sendRequest(a)},d.prototype.start=function(){function b(b,c,d){a.catches(b,c,d)}var a=this;window.onerror=b};return d});define("common/Log/Log",function(a,b,c){var d=a("basic/jquery"),e=a("common/Log/Logger");d(document).delegate("a[href]","click",function(a){var b=d(a.currentTarget),c=b.attr("href");if(c.indexOf("/urlcheck?p=")===-1&&!b.data("unlog")){var f=b.data("method");f=typeof f!="undefined"?f:"click",e.triggerLog(b,{method:f})}})});define("common/Log/Logger",function(a,b,c){var d=a("basic/jquery"),e=a("basic/Util"),f={home:"pHome",rank:"pRank",family:"pFamily",shop:"pShop",search:"pSearch"},g={},h=d.extend({},f,g),i=function(a){var b=d(a).first();if(b[0]==window)return"window";var c=d.map(b.parents().andSelf(),function(a){return d(a).data("keyfrom")||undefined}),e=h[CONFIG.pageName];e&&c.unshift(e);return c.join(".")},j=function(a){var b=d.param(a,!0);(new Image).src="/perform.do?"+b},k=function(a){return Math.floor(a*(Math.random()%1))},l=[new Image,new Image,new Image,new Image,new Image],m=function(a){if(typeof a=="undefined")throw"no analytics address";var b=l[k(5)];a.match(/^http:\/\/.+/)?b.src=a:b.src="http://"+location.host+(/^\//.test(a)?a:"/"+a)},n=function(a,b){var c=(new Date).getTime(),e="/page.do?random="+c+"&keyfrom="+i(a);if(b&&d.isPlainObject(b))for(var f in b)e+="&"+f+"="+b[f];else e+="&method=click";m(e)},o=function(a){a.random=(new Date).getTime();var b=e.format(a),c="/page.do?"+b;d.get(c)};return{keyFrom:i,doLog:j,triggerLog:n,keyFromMap:h,doReuest:o}});define("common/Login/Login",function(a,b,c){var d=a("basic/jquery"),e=a("basic/Util"),f=a("common/Log/Logger");d(document).delegate(".js-need-login","click",function(a){CONFIG.islogined||(e.login(),a.preventDefault(),f.triggerLog(d(a.currentTarget)))})});define("common/Reg/Reg",function(a,b,c){var d=a("basic/jquery"),e=a("common/Log/Logger");d(document).delegate(".js-need-reg","click",d.proxy(function(a){CONFIG.islogined||(d(document).trigger("error",["needReg"]),a.preventDefault(),e.triggerLog(d(a.currentTarget)))},this))});define("common/play",function(a,b,c){var d=a("basic/jquery");if(navigator.userAgent.match(/mobile/i))d(document).delegate(".js-play","touchstart",function(a){d(a.currentTarget).addClass("hover")}),d(document).delegate(".js-play","touchend",function(a){d(a.currentTarget).removeClass("hover")});else{var e=function(a,b){var c=d(b.currentTarget);b.type==="mouseenter"?(c.addClass(a),d.browser.msie&&parseInt(d.browser.version,10)<7&&c.find(".icon-play").show()):(c.removeClass(a),d.browser.msie&&parseInt(d.browser.version,10)<7&&c.find(".icon-play").hide())};d(document).delegate(".js-play","hover",function(a){e("hover",a)})}});define("basic/cookie",function(a,b,c){var d=a("basic/jquery"),e=function(a,b,c){if(typeof b=="undefined"){var j=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var l=0;l<k.length;l++){var m=d.trim(k[l]);if(m.substring(0,a.length+1)==a+"="){j=decodeURIComponent(m.substring(a.length+1));break}}}return j}c=c||{},b===null&&(b="",c.expires=-1);var e="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){var f;typeof c.expires=="number"?(f=new Date,f.setTime(f.getTime()+c.expires*24*60*60*1e3)):f=c.expires,e="; expires="+f.toUTCString()}var g=c.path?"; path="+c.path:"",h=c.domain?"; domain="+c.domain:"",i=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),e,g,h,i].join("")};return e});define("common/Login/ImproUserInfo",function(a,b,c){var d=a("basic/jquery"),e=a("basic/oop/Class"),f=a("common/FloatWin/FloatWin"),g=a("basic/Util"),h=a("common/Login/tpl"),i=e.extend({init:function(){this.$elem=null},bindEvent:function(){var b=a("common/Login/UserEdit");new b(!1)},preRender:function(){var a={nick:CONFIG.nick,url:location.href};return{content:g.formatTemplate(h.improUserInfo,a)}},postRender:function(a){a.addClass("loginLayer"),this.$elem=a,this.$elem.find(".dialogLayer-hd").find(".js-close").removeClass("btn-close").addClass("btn-login-close"),this.$elem.find(".dialogLayer-hd").append('<a class="receive-now" href="http://www.bobo.com/special/pcjf/" target="_blank"></a>')},show:function(){if(!!CONFIG.isFirstLogin&&CONFIG.pageName!="room"){var a=this;setTimeout(function(){f.PopWin({preRender:d.proxy(a.preRender,a),postRender:d.proxy(a.postRender,a)}).show(),a.bindEvent()},500)}}});return i});define("common/Login/UserEdit",function(a,b,c){function h(a){this.isEditing=a,this.province=d("#province"),this.provincehd=d("#provincehd"),this.city=d("#city"),this.cityhd=d("#cityhd"),this.county=d("#county"),this.countyhd=d("#countyhd"),this.year=d("#year"),this.yearhd=d("#yearhd"),this.month=d("#month"),this.monthhd=d("#monthhd"),this.day=d("#day"),this.dayhd=d("#dayhd"),this.nickName=d("#nickName"),this.nicknameTip=d("#nicknameTip"),this.nicknameErrorTip=d("#nicknameErrorTip"),this.nicknameIllegalTip=d("#nicknameIllegalTip"),this.signature=d("#signature"),this.signatureTip=d("#signatureTip"),this.introIllegalTip=d("#introIllegalTip"),this.sex=d("#sex"),this.cancel=d("#cancel"),this.init(),this.bindLocation(),this.bindBirth(),this.bindValidate()}function g(a,b){var c=28;if(b==2)a%4==0&&a%100!=0?c=29:c=28;else switch(b){case 1:case 3:case 5:case 7:case 8:case 10:case 12:c=31;break;case 4:case 6:case 9:case 11:c=30}return c}var d=a("basic/jquery"),e=a("basic/Util"),f=a("common/Validate");h.prototype.init=function(){var a=this;a.isEditing&&a.cancel.click(function(){window.location.href="/user"})},h.prototype.bindLocation=function(){var a=!0,b=!1,c=[],e=this;d.get("/user/getprovinces.do",function(f){for(var g=0;g<f.provinces.length;g++)c.push("<option value='"+f.provinces[g].pid+"'>"+f.provinces[g].province+"</option>");setTimeout(function(){e.province.append(c.join("")).change(function(){var c=d(this).val(),f=[];c=="32"||c=="33"||c=="34"||c=="35"?(e.city.hide(),e.county.hide()):(e.city.show(),e.county.show(),b=!0,d.get("/user/getcities.do",{pid:c},function(c){for(var g=0;g<c.cities.length;g++)f.push("<option value='"+c.cities[g].cid+"'>"+c.cities[g].city+"</option>");e.city.find("option").remove(),setTimeout(function(){e.city.append(f.join("")).change(function(){var b=d(this).val(),c=[];d.get("/user/getareas.do",{cid:b},function(b){for(var d=0;d<b.areas.length;d++)c.push("<option value='"+b.areas[d].aid+"'>"+b.areas[d].area+"</option>");setTimeout(function(){e.county.find("option").remove(),e.county.append(c.join("")),a&&(setTimeout(function(){e.county.val(e.countyhd.val())},50),a=!1)},50)})}),a&&(setTimeout(function(){e.city.val(e.cityhd.val())},50),setTimeout(function(){e.city.change()},100)),b&&setTimeout(function(){e.city.change()},50),b=!1},50)}))}),a&&(setTimeout(function(){e.province.val(e.provincehd.val())},50),setTimeout(function(){e.province.change()},100))},50)})},h.prototype.bindBirth=function(){function e(){var a=[],b=parseInt(d.year.val()),c=parseInt(d.month.val()),e=g(b,c);d.day.find("option").remove();for(var f=1;f<=e;f++){var h=f;h<10&&(h="0"+h),a.push("<option value='"+h+"'>"+h+"</option>")}setTimeout(function(){d.day.append(a.join("")),setTimeout(function(){d.day.val(d.dayhd.val())},50)},50)}var a=1900,b=2015,c=[],d=this;for(var f=b;f>a;f--)c.push("<option value='"+f+"'>"+f+"</option>");setTimeout(function(){d.year.append(c.join("")).change(function(){e()}),setTimeout(function(){d.year.val(d.yearhd.val())},50),setTimeout(function(){d.year.change()},100)},50);var h=[];for(var f=1;f<=12;f++){var i=f;i<10&&(i="0"+i),h.push("<option value='"+i+"'>"+i+"</option>")}setTimeout(function(){d.month.append(h.join("")).change(function(){e()}),setTimeout(function(){d.month.val(d.monthhd.val())},50),setTimeout(function(){d.month.change()},100)},50)},h.prototype.bindValidate=function(){var a=new f.Validate("#userEdit"),b=this,c=new f.ValidateItem({node:b.nickName,isAutoCheck:!0,check:function(){var a=d.trim(this.node.val()),c=e.getLength(a),f=e.getleftLength(a);if(c>10||f<2){b.nicknameTip.show(),b.nicknameErrorTip.hide();return!1}b.nicknameTip.hide();return!0}}),g=new f.ValidateItem({node:b.signature,isAutoCheck:!0,check:function(){var a=d.trim(this.node.val()),c=e.getLength(a);if(c>30){b.signatureTip.show();return!1}b.signatureTip.hide();return!0}}),h=new f.ValidateItem({node:b.nickName,isAutoCheck:!0,isVerified:!0,check:function(){var a=d.trim(this.node.val()),c=this.node,f=this,g=e.getLength(a),h=e.getleftLength(a);g>10||h<2||d.post("/user/checkNick.do",{nick:a},function(a){a.status==0?(f.isVerified=!1,b.nicknameErrorTip.show(),b.nicknameTip.hide(),b.nicknameIllegalTip.hide()):a.status==2?(f.isVerified=!1,b.nicknameIllegalTip.show(),b.nicknameErrorTip.hide(),b.nicknameTip.hide()):a.status==1&&(f.isVerified=!0,b.nicknameErrorTip.hide(),b.nicknameTip.hide(),b.nicknameIllegalTip.hide())})}}),i=new f.ValidateItem({node:b.signature,isAutoCheck:!0,isVerified:!0,check:function(){var a=d.trim(this.node.val()),c=this.node,f=this,g=e.getLength(a);g>30||d.post("/check/checkMessage",{word:a},function(a){a.status==2?(f.isVerified=!1,b.introIllegalTip.show(),b.signatureTip.hide()):(f.isVerified=!0,b.introIllegalTip.hide(),b.signatureTip.hide())})}});a.add(c),a.add(g),a.addAjax(h),a.addAjax(i)};return h});define("common/Validate",function(a,b,c){function f(a){var b=this;b.options={node:document.body,clear:function(){},isAutoCheck:!1,isAutoClear:!1,check:function(){},isVerified:!1};for(var c in a)b.options[c]=a[c];b.isVerified=b.options.isVerified,b.node=b.options.node,b.check=b.options.check,b.options.isAutoCheck==!0&&b.options.node.blur(function(){b.options.check.apply(b)}),b.options.isAutoClear==!0&&b.options.node.focus(function(){b.options.clear.apply(b)})}function e(a,b){if(!!d(a)){this.commonCollection=[],this.ajaxCollection=[],this.func=b||function(){};var c=this;d(a).submit(function(){return c.commitCheck()==!0?c.func():!1})}}var d=a("basic/jquery");e.prototype.add=function(a){this.commonCollection.push(a)},e.prototype.addAjax=function(a){this.ajaxCollection.push(a)},e.prototype.commitCheck=function(){var a=[];for(var b=0;b<this.commonCollection.length;b++)if(!this.commonCollection[b].check()){a.push(this.commonCollection[b]);break}for(var b=0;b<this.ajaxCollection.length;b++)if(!this.ajaxCollection[b].isVerified){a.push(this.ajaxCollection[b]);break}return a.length==0};return{Validate:e,ValidateItem:f}});define("common/buy",function(a,b,c){var d=a("basic/jquery"),e=a("shop/BuyBox"),f=a("common/NaviTip"),g=a("common/FloatWin/FloatWin"),h=a("common/Log/Logger"),i=null,j=function(a){if(!CONFIG.islogined)d(document).trigger("error",["needLogin"]);else{a.preventDefault();if(d.isPlainObject(i)&&i.readyState!==4)return;var b=d(a.currentTarget),c=b.attr("data-method")||"buy",j={payMethod:c},k=b.attr("data-itemId");i=d.ajax({type:"GET",url:"/shop/item",data:{itemId:k,method:c},dataType:"json",success:function(a){a.status==1?(a.item.shopType==3&&(a.item.priceMonth=a.item.paramMap.newPriceMonth,a.item.priceYear=a.item.paramMap.newPriceYear),a.item.shopType==5&&(a.item.priceMonth=a.item.specialPriceMonth,a.item.priceYear=a.item.specialPriceYear),(new e(a,j)).show(),h.triggerLog(b,{method:c+"ing"})):a.status==509?d(document).trigger("error",["needLogin"]):a.status==603&&(new g.ConfirmsWin({content:"您还没加入家族，不能购买高级家族徽章哦！<br/>快去加入一个家族吧！",confirmFunc:function(){location.href="/family"}})).show()},error:function(){f.show({type:"error",text:"网络请求出错啦，请刷新重试！"})}})}};d(document).delegate(".js-goBuy","click",function(a){j(a)})});define("shop/BuyBox",function(a,b,c){var d=a("basic/jquery"),e=a("basic/oop/Class"),f=a("common/FloatWin/FloatWin"),g=a("basic/Util"),h=a("shop/tpl"),i=a("shop/SearchAccount"),j=a("common/NaviTip"),k=a("shop/BuySuccessBox"),l=a("basic/Observer"),m=a("common/Log/Logger"),n=e.extend({init:function(a,b){this.$elem=null,this.data=d.extend({balance:a.balance},a.item)||{},this.config=b||{},this.packageSave=a.item.packageSave,this.type=this.packageSave?"year":"month",this.payMethod=b.payMethod},preRender:function(){this.data.features!=null&&(this.data.shortFeatures=d.map(this.data.features,function(a,b){return g.countChars(a,16)})),this.data.image=g.getImageUrl(this.data.image,124,80),this.formatMoney();var a=d.extend({config:this.config},this.data);return{content:g.formatTemplate(h.buyBox,a)}},postRender:function(a){a.addClass("mallbuyLayer"),this.$elem=a},formatMoney:function(){this.data.formatBalance=g.formatNumber(this.data.balance),this.data.formatPackageSave=g.formatNumber(this.data.packageSave),this.data.formatPriceMonth=g.formatNumber(this.data.priceMonth),this.data.formatPriceYear=g.formatNumber(this.data.priceYear)},show:function(){this.buyBox=f.PopWin({preRender:d.proxy(this.preRender,this),postRender:d.proxy(this.postRender,this)}),this.buyBox.show(),this.bindEvent(),this.onMoney()},bindEvent:function(){this.$elem.delegate(".js-account-btn","click",d.proxy(this.onSwitchAccount,this)).delegate(".js-buy-type","click",d.proxy(this.onBuyType,this)).delegate(".js-time-input","click",d.proxy(this.onFocusTimeInput,this)).delegate(".js-time-select a","click",d.proxy(this.onTimeSelect,this)).delegate(".js-submit","click",d.proxy(this.onSubmit,this)).delegate(".js-account-input","focus",d.proxy(this.onFocusAccountInput,this)),this.$elem.bind("click",function(a){d(a.target).hasClass("js-time-input")||d(this).find(".js-time-select").hide()}),new i(this.$elem.find(".js-account"))},onSwitchAccount:function(a){var b=d(a.currentTarget);b.parents(".js-account").hide().siblings(".js-account").show(),this.$elem.find(".js-account-input").val(this.$elem.find(".js-account-input").attr("data-defaultTip")),this.payMethod=b.attr("data-method"),this.onFocusAccountInput()},onBuyType:function(a){var b=d(a.currentTarget),c=b.attr("data-type"),e=b.attr("data-num");this.$elem.find(".js-buy-type").removeClass("cur"),this.$elem.find(".js-buy-"+c).addClass("cur"),this.$elem.find(".js-time").hide(),this.$elem.find(".js-money").hide(),this.$elem.find(".js-"+c).show(),this.$elem.find(".js-money-"+c).show(),this.$elem.find(".js-"+c+"-input").val(e),this.type=c,this.onMoney()},onFocusTimeInput:function(a){var b=d(a.currentTarget);b.siblings(".js-time-select").show()},onTimeSelect:function(a){var b=d(a.currentTarget);b.parents(".js-time-select").siblings(".js-time-input").val(b.text()),this.onMoney()},onMoney:function(){var a=parseInt(this.$elem.find(".js-"+this.type+"-input").val(),10),b=this.type=="year"?12:1,c=parseInt(this.data.priceMonth,10),d=this.type=="year"&&this.packageSave?parseInt(this.data.packageSave,10):0;this.type=="month"&&a==12&&(b=12,a=1,d=parseInt(this.data.packageSave,10)),this.orginalMoney=a*b*c,this.totalMoney=a*b*c-d*a,this.$elem.find(".js-originalMoney").text(g.formatNumber(this.orginalMoney)),this.$elem.find(".js-totalMoney").text(g.formatNumber(this.totalMoney)),this.onLackMoney()},onLackMoney:function(){this.data.balance<this.totalMoney?(this.$elem.find(".js-lackMoney-tip").show(),this.$elem.find(".js-cash-error").hide(),this.$elem.find(".js-lackMoney").text(g.formatNumber(this.totalMoney-this.data.balance)),this.$elem.find(".js-pay-btn").addClass("mallpay-disabled").removeClass("js-submit")):(this.$elem.find(".js-lackMoney-tip").hide(),this.$elem.find(".js-pay-btn").removeClass("mallpay-disabled").addClass("js-submit"))},checkInput:function(){if(!this.getNick()){this.$elem.find(".js-account-error").show().find(".js-error-info").text("请输入昵称！");return!1}return!0},getNick:function(){var a=this.$elem.find(".js-account-input").val();if(this.payMethod=="give"&&a!=""&&a!=this.$elem.find(".js-account-input").attr("data-defaultTip"))return encodeURIComponent(a);return""},onSubmit:function(){if(!d.isPlainObject(this.Request)||this.Request.readyState===4){if(this.payMethod=="give"&&!this.checkInput())return;var a={itemId:this.data.itemId,quantity:this.$elem.find(".js-"+this.type+"-input").val(),unit:this.type=="year"?"y":"m"};this.getNick()&&(a.nick=this.getNick());var b=this;this.Request=d.ajax({type:"POST",url:"/shop/buy.do",data:a,dataType:"json",success:function(a){if(a.status==1){var c=!1;a.boquan&&(c=!0),(new k(d.extend(a.result,{payMethod:b.payMethod,isBojuan:c}))).show(),m.triggerLog(b.$elem,{method:"buysuccess"})}else b.showError(a.status)},error:function(){j.show({type:"error",text:"网络请求出错啦，请刷新重试！"})}})}},showError:function(a){this.$elem.find(".js-error").hide(),a==509?d(document).trigger("error",["needLogin"]):a==506?this.$elem.find(".js-account-error").show().find(".js-error-info").text("没有找到该昵称的用户！"):a==603?this.$elem.find(".js-account-error").show().find(".js-error-info").text("此账号需加入家族才能购买或接收道具！"):a==602?this.$elem.find(".js-cash-error").show().find(".js-error-info").text("专属道具不能购买！"):a==614?this.$elem.find(".js-cash-error").show().find(".js-error-info").text("财富等级不够！"):a==615?this.$elem.find(".js-cash-error").show().find(".js-error-info").text("商品数量不足！"):a==616?this.$elem.find(".js-cash-error").show().find(".js-error-info").text("活动已结束，座驾已卖完！"):a==0?this.$elem.find(".js-cash-error").show().find(".js-error-info").text("购买失败！"):a==618&&this.$elem.find(".js-cash-error").show().find(".js-error-info").text("会员特价礼物不能赠送！")},onFocusAccountInput:function(){this.$elem.find(".js-account-error").hide()}});return n});define("shop/tpl",function(a,b,c){var d={buyBox:'<div class="mall-buy-product">\n                  <div class="mall-buy-pic"><img src="<%=image%>" /><b></b></div>\n                  <h4><%=name%></h4>\n                  <h5><em class="png24 icon-bobi" title="波币"></em><strong><%=formatPriceMonth%></strong>/月</h5>\n                  <ul>\n                     <li>按月购买：30天/月</li>\n                     <li>按年购买：365天/年</li>\n                     <li class="has-border">商品有效期内购买本商品，有效期累加。</li>\n                     <li>其他情况，有效期从购买时算起</li>\n                  </ul>\n               </div>\n               <div class="mallpay-method">\n                  <div class="mallpay-method-hd get-account-hd js-account" <%if(config.payMethod!="buy"){%>style="display: none;"<%}%>>\n                     <p><span class="fl">开通账号：<strong><%=CONFIG["nick"]%></strong></span><a class="fr cBlue js-account-btn" href="javascript:;" data-method="give">赠送他人</a></p>\n                     <span class="get-account-error js-account-error js-error" style="display: none;"><em class="png24 icon-error"></em><span class="js-error-info"></span></span>\n                  </div>\n                  <div class="mallpay-method-hd get-account-hd get-account-cur js-account" <%if(config.payMethod!="give"){%>style="display: none;"<%}%>>\n                     <p><span class="fl">赠送昵称：<input class="get-account cGray js-account-input js-input" type="text" data-defaultTip="请输入昵称" value="请输入昵称"></span><a class="cBlue js-account-btn" href="javascript:;" data-method="buy">买给自己</a></p>\n                     <span class="get-account-error js-account-error js-error" style="display: none;"><em class="png24 icon-error"></em><span class="js-error-info"></span></span>\n                     <div class="get-account-list js-wrap" style="display: none;">\n                        <div class="getaccount-result js-list">\n                        </div>\n                     </div>\n                  </div>\n                  <div class="mallpay-method-bd">\n                     <p class="mallpay-way">\n                     购买方式：<a class="js-buy-type js-buy-month <%if(!packageSave){%>cur<%}%>" data-type="month" data-num="3" href="javascript:;" title="按月付费">按月付费</a><a class="js-buy-type js-buy-year <%if(packageSave){%>cur<%}%>" data-type="year" data-num="1" href="javascript:;" title="按年付费">按年付费</a><%if(packageSave){%><em>优惠</em><%}%>\n                     </p>\n                     <div class="mallpay-time js-time js-month"<%if(packageSave){%> style="display: none;"<%}%>>\n                        购买时长：<input class="mallpay-time-input js-time-input js-month-input" type="text" data-unit="m" value="3" readonly/>个月\n                        <%if(packageSave){%><span class="mallpay-change">选择“<a href="javascript:;" class="js-buy-type" data-type="year" data-num="1">按年付费</a>”更优惠</span><%}%>\n                        <p class="mallpay-time-select js-time-select" style="display: none;">\n                           <a href="javascript:;" title="1">1</a><a href="javascript:;" title="2">2</a>\n                           <a href="javascript:;" title="3">3</a><a href="javascript:;" title="4">4</a>\n                           <a href="javascript:;" title="5">5</a><a href="javascript:;" title="6">6</a>\n                           <a href="javascript:;" title="7">7</a><a href="javascript:;" title="8">8</a><a href="javascript:;" title="9">9</a>\n                           <a href="javascript:;" title="10">10</a><a href="javascript:;" title="11">11</a><a href="javascript:;" title="12">12</a>\n                        </p>\n                     </div>\n                     <div class="mallpay-time js-time js-year"<%if(!packageSave){%> style="display: none;"<%}%>>\n                        购买时长：<input class="mallpay-time-input js-time-input js-year-input" type="text" data-unit="y" value="1" readonly>年\n                        <p class="mallpay-time-select mallpay-year-select js-time-select" style="display: none;">\n                            <a href="javascript:;" title="1">1</a><a href="javascript:;" title="2">2</a>\n                        </p>\n                     </div>\n                     <div class="mallpay-account">\n                        <% if(!packageSave){ %>\n                        <p>应付金额：<strong class="js-totalMoney"></strong>波币 <span class="mallpay-account-total">账户余额<em><%=formatBalance%></em>波币</span></p>\n                        <% }else{ %>\n                        <p class="js-money js-money-month" style="display: none;">应付金额：<strong class="js-totalMoney"></strong>波币 <span class="mallpay-account-total">账户余额<em><%=formatBalance%></em>波币</span></p>\n                        <div class="js-money js-money-year">\n                           <p>应付金额：<span class="mallpay-account-original">原价 <em class="js-originalMoney"></em>波币</span></p>\n                           <p class="mallpay-account-pay">优惠价<strong><b class="js-totalMoney"></b>波币</strong> <span class="mallpay-account-total">账户余额<em><%=formatBalance%></em>波币</span></p>\n                        </div>\n                        <% } %>\n                        <span class="mallpay-account-empty js-lackMoney-tip" style="display: none;">\n                           <em class="png24 icon-error"></em>余额不足，缺少<span class="js-lackMoney"></span>波币<a href="http://www.bobo.com/pay" data-method="charge" target="_blank">去充值</a>\n                        </span>\n                        <span class="mallpay-account-empty js-cash-error js-error" style="display: none;">\n                           <em class="png24 icon-error"></em><span class="js-error-info"></span>\n                        </span>\n                     </div>\n                     <p class="mallpay-btn"><a class="orange-btnS js-pay-btn js-submit" href="javascript:;">购买</a></p>\n                  </div>\n               </div>',suggestList:'<h4>昵称</h4>\n                     <ul>\n                        <% for(var i=0;i<byNick.length;i++){%>\n                        <li <%if(i==0){%>class="current"<%}%> data-value="<%=byNick[i].nick%>" data-userId="<%=byNick[i].userId%>">\n                           <a><img src="<%=byNick[i].avatar%>"></a>\n                              <h5><%=byNick[i].nick%></h5>\n                              <p>粉丝：<%=byNick[i].followedCount%></p>\n                        </li>\n                        <%}%>\n                     </ul>',buySuccessBox:'<em class="png24 buy-suc"></em>\n                      <h2>购买成功</h2>\n                      <p><%if(payMethod=="buy"){%>你<%}else if(payMethod=="give"){%>对方<%}%>可以在 <%=formatExpireTime%> 前使用该商品<%if(payMethod=="buy" && !equiped && category!="vip"){%>。马上去 <a class="cOrange" href="/user/tools?category=<%=category%>">我的道具</a> 开启使用<%}%><%if(isBojuan){%><br/>30000波劵已自动发送到你的账户<%}%></p>\n                      <p class="buysuc-btn"><a class="gray-btn js-close" href="javascript:;">关闭</a><%if(payMethod=="buy" && CONFIG["pageName"]!="tools" && CONFIG["pageName"]!="myVip"){%><%if(category=="vip"){%><a class="orange-btn" href="/user/vip">我的会员</a><%}else{%><a class="orange-btn" href="/user/tools?category=<%=category%>">我的道具</a><%}%><%}%></p>',carItem:'<%for(var i = 0; i < data.length; i++){%>\n                  <%if(data[i].shopType==2){%>\n                  <li class="shop-item" id="shopTimeSale">\n                  <%}else{%>\n                  <li class="shop-item">\n                  <%}%>\n                    <%if(data[i].shopType==1){%>\n                      <span class="png24 shop-tip">新品</span>\n                      <p class="shop-sale-info"></p>\n                    <%}else if(data[i].shopType==2){%>\n                       <span class="png24 shop-tip">限时</span>\n                       <p class="shop-sale-info js-time-left" data-time="<%=data[i].paramMap.leftTime%>">剩<em class="js-hour">0</em>时\n                       <em class="js-min">0</em>分<em class="js-second">0</em>秒</p>\n                    <%}else if(data[i].shopType==3){%>\n                      <span class="png24 shop-tip">特价</span>\n                      <p class="shop-sale-info">原价  1月：<em><%=data[i].priceMonth%></em>波币</p>\n                    <%}else if(data[i].shopType==4){%>\n                      <span class="png24 shop-tip">限量</span>\n                      <p class="shop-sale-info">本月剩<%=data[i].paramMap.leftCount%>/<%=data[i].paramMap.allCount%></p>\n                    <%}else if(data[i].shopType==5){%>\n                      <span class="png24 shop-tip">会员</span>\n                      <p class="shop-sale-info">原价  1月：<em><%=data[i].priceMonth%></em>波币</p>\n                    <%}else{%>\n                      <p class="shop-sale-info"></p>\n                    <%}%>\n                     <img width="170" height="110" src="<%=data[i].image%>" class="png24 shop-img">\n                     <h3><%=data[i].name%></h3>\n                     <%if(data[i].shopType==3){%>\n                     <p><%=data[i].paramMap.newPriceYear%>波币/年</p>\n                     <%}else{%>\n                     <p><%=data[i].priceYear%>波币/年</p>\n                     <%}%>\n                     <%if(data[i].shopType==3){%>\n                     <p><%=data[i].paramMap.newPriceMonth%>波币/月</p>\n                     <%}else{%>\n                     <p><%=data[i].priceMonth%>波币/月</p>\n                     <%}%>\n                     <a data-itemid="<%=data[i].itemId%>" data-method="buy" href="javascript:;" class="shop-buy-btn js-goBuy">购买</a>\n                     <div class="shop-buy-more">\n                        <a href="javascript:;" data-effect="<%=data[i].effectUrl%>" class="js-effect">动效</a><a data-itemid="<%=data[i].itemId%>" data-method="give" href="javascript:;" class="js-goBuy">赠送</a>\n                     </div>\n                  </li>\n                  <%}%>'};return d});define("shop/SearchAccount",function(a,b,c){var d=a("basic/jquery"),e=a("basic/oop/Class"),f=a("shop/SearchList"),g=a("basic/Util"),h=a("shop/tpl"),i=e.extend({init:function(a){this.$elem=d(a),this.$input=this.$elem.find(".js-input"),this.defaultTip=this.$input.attr("data-defaultTip"),this.searchListWrap=this.$elem.find(".js-wrap").hide(),this.searchList=new f(this.$elem.find(".js-list")),this.cache={},this.property=["byNick"],this.bindEvent()},bindEvent:function(){this.$input.bind("keyup",d.proxy(this.onInput,this)).bind("focus",d.proxy(this.onFocus,this)).bind("blur",d.proxy(this.onBlur,this)),this.searchListWrap.bind("select.SearchSuggestList",d.proxy(this.onSelect,this))},onInput:function(a){if(a.which!==38&&a.which!==40&&a.which!==13){this.intervalTime&&clearTimeout(this.intervalTime);var b=this.$input.val(),c=g.countChars(g.encodeSpecialHtmlChar(b),16);if(this.cache[b]!==undefined)this.onCallBack(this.cache[b]);else{if(!d.trim(b).length||d.trim(b)===this.defaultTip){this.hideSuggest();return}this.onLoad();var e=this;this.intervalTime=setTimeout(function(){d.ajax({type:"POST",url:"/searchUser",data:{word:b},dataType:"json",success:function(a){a.input=c,e.cache[b]=a,b==e.$input.val()&&e.onCallBack(a)}})})}}},onLoad:function(){},onCallBack:function(a){if(!!this.onHaveProperty(a)){this.searchListWrap.show();var b=g.formatTemplate(h.suggestList,a);this.searchList.$elem.html(b),this.searchList.bindEvent()}},onHaveProperty:function(a){var b=!1;for(var c=0;c<this.property.length;c++)a[this.property].length&&(b=!0);return b},onSelect:function(a,b){this.$input.val(b.value),this.hideSuggest()},onFocus:function(a){this.$input.removeClass("cGray"),d.trim(this.$input.val())===this.defaultTip&&this.$input.val(""),this.onInput(a)},onBlur:function(a){this.$input.addClass("cGray"),d.trim(this.$input.val())===""&&this.$input.val(this.defaultTip),d(document).bind("click",d.proxy(this.autoClose,this))},autoClose:function(a){var b=d(a.target).parents().andSelf();d.inArray(this.$elem[0],b)===-1&&this.hideSuggest()},hideSuggest:function(){this.hideTimer&&clearTimeout(this.hideTimer);var a=this;this.hideTimer=setTimeout(function(){a.searchList&&a.searchList.unbindEvent(),a.searchListWrap.hide()},100),d(document).unbind("click",d.proxy(this.autoClose,this))}});return i});define("shop/SearchList",function(a,b,c){var d=a("basic/jquery"),e=a("common/SuggestList"),f=e.extend({onEnter:function(a){this.onClick(a)},onClick:function(a){var b=this.$elem.find(".current").data();this.$elem.trigger("select.SearchSuggestList",b)},show:function(a,b){if(!!this._super(a.html())){b||this.$elem.html(a).children(":first").addClass("current"),this.$elem.html(a),this.cacheHtml=a,this.bindEvent();return}},clearUp:function(){this.$elem.empty()},onKey:function(a){this._super(a),a.which===27&&(this.$elem.parent().hide(),a.preventDefault())}});return f});define("common/SuggestList",function(a,b,c){var d=a("basic/jquery"),e=a("basic/oop/Class"),f=e.extend({cacheData:null,binded:null,config:null,$elem:null,hideTimer:null,init:function(a,b){this.$elem=d(a),this.config=b,this.$elem.delegate("li","hover",d.proxy(this.onHover,this)).delegate("li","click",d.proxy(this.onClick,this)),this.config&&!this.config.disableScroll&&this.$elem.bind("scroll",d.proxy(this.onScroll,this))},onHover:function(a){var b=d(a.target);a.target.tagName.toUpperCase()!=="LI"&&(b=b.parents("li").first()),b.hasClass("disable")||b.addClass("current").siblings(".current").removeClass("current")},onCurrentFirst:function(){this.$elem.children("[className!=disable]").first().addClass("current")},onScroll:function(a){clearTimeout(this.hideTimer),this.bindBodyClick||(d(document.body).one("click",d.proxy(function(){this.bindBodyClick=!1,this.hide()},this)),this.bindBodyClick=!0)},show:function(a){clearTimeout(this.hideTimer);if(a===this.cacheData)return!1;this.cacheData=a;return!0},hide:function(){clearTimeout(this.hideTimer),this.hideTimer=setTimeout(d.proxy(function(){this.unbindEvent(),this.$elem.detach()},this),200)},bindEvent:function(){this.binded||(d(document.body).bind("keydown",d.proxy(this.onKey,this)),this.binded=!0)},unbindEvent:function(){this.binded&&(d(document.body).unbind("keydown",d.proxy(this.onKey,this)),this.binded=!1)},onKey:function(a){var b=this.$elem.find("li");if(a.which===38||a.which===40){var c=b.filter(".current").removeClass("current"),d=null;a.which===38?d=this.getPrevElem(c,b):d=this.getNextElem(c,b),d&&d.addClass("current"),a.preventDefault()}(a.which===13||a.which===9)&&b.size()>0&&(this.onEnter(a),a.preventDefault())},getPrevElem:function(a,b){var c=a.prev("li");c=c.size()>0?c:b.last();return c.hasClass("disable")?this.getPrevElem(c,b):c},getNextElem:function(a,b){var c=a.next("li");c=c.size()>0?c:b.first();if(c.hasClass("disable"))return this.getNextElem(c,b);return c},onEnter:function(a){throw new Error("Not Implemented")},onClick:function(a){var b=d(a.target);a.target.tagName.toUpperCase()!=="LI"&&(b=b.parents("li").first());if(!b.hasClass("disable")){var c=b.attr("n");this.$elem.trigger("select",[c])}}});return f});define("shop/BuySuccessBox",function(a,b,c){var d=a("basic/jquery"),e=a("basic/oop/Class"),f=a("common/FloatWin/FloatWin"),g=a("basic/Util"),h=a("shop/tpl"),i=a("basic/Observer"),j=e.extend({init:function(a){this.data=a||{},this.buySuccess=new i.Publisher("buy:success")},preRender:function(){return{content:g.formatTemplate(h.buySuccessBox,this.data)}},postRender:function(a){a.addClass("buySuccessLayer"),this.$elem=a,this.bindEvent()},bindEvent:function(){this.$elem.find(".js-close").click(d.proxy(function(){this.buySuccess.deliver(g.formatNumber(this.data.cCurrency)),g.refresh()},this))},show:function(){f.PopWin({preRender:d.proxy(this.preRender,this),postRender:d.proxy(this.postRender,this)}).show()}});return j});define("basic/Observer",function(a,b,c){var d=[],e={Publisher:function(a){this.eventName=a},subscribe:function(a){var b=!1;for(var c=0;c<d.length;c++)if(d[c]===a){b=!0;break}b||d.push(a)},unsubscribe:function(a){var b=[];for(var c=0;c<d.length;c++)d[c]!=a&&b.push(d[c]);d=b}};e.Publisher.prototype.deliver=function(){var a=this,b=arguments||null;for(var c=0;c<d.length;c++)a.eventName==d[c].eventName&&d[c].func(b)};return e});define("common/Feedback/Feedback",function(a,b,c){function j(){var a=this;d(e.formatTemplate(i.message)).appendTo("body"),this.win=new f(d("#feedbackBox"),!0,"display",!0),this.init()}var d=a("basic/jquery"),e=a("basic/Util"),f=a("common/Win"),g=a("common/Validate"),h=a("common/NaviTip"),i=a("common/Feedback/Tpl");j.prototype.init=function(){var a=d("#messageInfo"),b=d("#mesError"),c=d("#mesCountWraper"),f=d("#mesErrorCountWraper"),i=d("#mesCount"),j=d("#mesErrorCount"),k=this,l=new g.Validate("#feedbackForm",function(){d.post("/message/feedback",{content:a.val()},function(a){a.status==1?(k.hide(),h.show("成功提交反馈信息，谢谢您的参与")):(k.hide(),h.show("消息发送失败，请稍后再试","error"))});return!1}),m=new g.ValidateItem({node:a,check:function(){var a=d.trim(this.node.val()),g=e.getLength(a);if(a==""||g>163){b.show(),f.hide(),c.hide(),this.node.focus();return!1}b.hide();return!0}});l.add(m),this.bindCheck(a,c,f,i,j,b),d("#messageSubmit").click(function(){d("#feedbackForm").submit()})},j.prototype.bindCheck=function(a,b,c,d,f,g){function i(){var h=163-e.getLength(a.val());h>=0?(b.show(),c.hide(),d.html(h)):(b.hide(),c.show(),f.html(Math.abs(h))),g.hide()}var h=this;a.bind("keyup",function(){h.countTimer?(clearTimeout(h.countTimer),h.countTimer=setTimeout(function(){i()},100)):h.countTimer=setTimeout(function(){i()},100)})},j.prototype.show=function(){this.win.show()},j.prototype.hide=function(){this.win.hide()},d("body").delegate(".js-feedback","click",function(){(new j).show();return!1})});define("common/Feedback/Tpl",function(a,b,c){var d=a("basic/jquery");return{message:'<div class="dialogLayer msgdialogLayer" id="feedbackBox">\n                     <div class="dialogLayer-hd">\n                        <a class="png24 btn-close js-close" href="javascript:" title="关闭"></a>\n                     </div>\n                     <div class="dialogLayer-bd">\n   \t                  <form id="feedbackForm">\n                           <h3>\n                              <strong>意见反馈</strong>\n                           </h3>\n      \t                  <p><textarea id="messageInfo"></textarea></p>\n                           <p class="msg-send-info">\n                              <span id="mesCountWraper" class="fl">还能输入<em id="mesCount">163</em>字</span>\n                              <span class="fl" style="display:none" id="mesErrorCountWraper">已经超出<em class="cDRed" id="mesErrorCount"></em>字</span>\n                              <span class="fl cDRed" id="mesError" style="display:none">反馈内容在1到163字之间</span>\n                              <a class="orange-btnS" href="javascript:;" id="messageSubmit">提交</a>\n                           </p>\n   \t                  </form>\n                     </div>\n                  </div>'}});define("message/Reminder",function(a,b,c){function i(){this.node=d("#msgNode"),this.messageCount=d("#messageCount"),this.init(),this.bindEvent(),this.cache=1}var d=a("basic/jquery"),e=a("basic/Util"),f=a("common/FloatBox/FloatBox"),g=a("message/Message"),h=a("message/Tpl");i.prototype.getData=function(){var a=this;a.cache!=1?a.render(a.cache):(d.post("/message/newMessagePop.do",function(b){b.status==1&&(b.isLeader=CONFIG.isLeader,b.cutString=e.cutString,b.Util=e,a.render(b),a.cache=b)}),a.show())},i.prototype.render=function(a){this.mesReminder.html(e.formatTemplate(h.reminder,a))},i.prototype.show=function(){this.mesReminder.show()},i.prototype.hide=function(){this.mesReminder.hide()},i.prototype.init=function(){var a=this;this.mesReminder=d("#mesReminder"),a.node.hover(function(){a.cache==1?a.getData():a.show()},function(){a.hide()}),this.mesReminder.mouseenter(function(){a.show()}).mouseleave(function(){a.hide()}),a.setMessageCount()},i.prototype.setMessageCount=function(){var a=this;d.post("/message/newMessageCount.do",function(b){if(b.status==1){var c=b.newMessageCount;c>0?(c>99&&(c=99),a.messageCount.show()):a.messageCount.hide()}})},i.prototype.ignore=function(a){var b=this;d.post("/message/resetSessionUnread.do",{withUserId:a},function(a){a.status==1&&(b.cache=1,b.getData(),setTimeout(function(){b.setMessageCount()},500))})},i.prototype.bindEvent=function(){var a=this;d("body").delegate(".js-replymsg","click",function(){var b=e.getLinkParam(this).toString(),c=this.getAttribute("username");(new g(b,c,function(){a.ignore(b)})).show();return!1});var b=new f;d("body").delegate(".js-boxer","mouseover",function(){var c=this.getAttribute("userId");b.actionType=2,b.action=function(b){a.ignore(c)},b.hover(this,c)}),d("body").delegate(".js-boxer","mouseout",function(){var c=this.getAttribute("userId");b.actionType=2,b.action=function(b){a.ignore(c)},b.out(this,c)}),d("body").delegate(".js-ignore","click",function(){var b=e.getLinkParam(this).toString();a.ignore(b)}),d("body").delegate(".js-newmsg","mouseover",function(){d(this).addClass("hover")}),d("body").delegate(".js-newmsg","click",function(a){var b=this.getAttribute("toUserId"),c=a.target||a.srcElement;!d(c).hasClass("js-replymsg")&&!d(c).hasClass("js-ignore")&&(window.location.href="/message/talk?toUserId="+b)}),d("body").delegate(".js-newmsg","mouseout",function(){d(this).removeClass("hover")})};return i});define("common/FloatBox/FloatBox",function(a,b,c){function l(a,b,c,d){var d=d||function(){};a.animate({left:b},{duration:c,easing:"linear",complete:function(){d()}})}function i(a){this.options={wraper:d(document.body),scrollNode:null};if(a)for(var b in a)this.options[b]=a[b];this.actionType=1,this.action=function(a){},this.dataPool={},this.delay=400,this.left=0,this.top=0,this.docWidth=this.options.wraper.width(),this.docPos=this.options.wraper.offset(),this.entertimer=setTimeout(function(){},this.delay),this.outtimer=setTimeout(function(){},this.delay),this.wraper=document.createElement("div"),this.wraper.className="cardLayer",this.wraper.style.visibility="hidden",this.inner=document.createElement("div"),this.inner.className="cardLayer-inner",this.arrow=document.createElement("em"),this.content=document.createElement("div"),this.wraper.appendChild(this.inner),this.inner.appendChild(this.arrow),this.inner.appendChild(this.content),document.body.insertBefore(this.wraper,document.body.firstChild);var c=this;d(this.wraper).delegate(".js-send","click",function(a){if(CONFIG.islogined){var b=e.getLinkParam(this).toString(),f=this.getAttribute("username");c.actionType==1?(new g(b,f)).show():(new g(b,f,function(a){c.action(a)})).show(),h.triggerLog(d(a.currentTarget),{method:"mail"})}else e.login()}),d(this.wraper).delegate(".js-cardfollow","click",function(a){var b=e.getLinkParam(this).toString(),f=d(this),g=c.dataPool[b].followedCount;CONFIG.islogined?(e.follow(b,function(){f.hide(),d(c.wraper).find(".js-cardfollowed").show(),c.dataPool[b].isFollowing=!0,c.dataPool[b].followedCount=g+1}),h.triggerLog(d(a.currentTarget),{method:"follow"})):e.login()}),d(this.wraper).delegate(".js-carddefollow","click",function(a){var b=e.getLinkParam(this).toString(),f=d(this),g=c.dataPool[b].followedCount;CONFIG.islogined?(e.defollow(b,function(){f.parent().hide(),d(c.wraper).find(".js-cardfollow").show(),c.dataPool[b].isFollowing=!1,c.dataPool[b].followedCount=g-1}),h.triggerLog(d(a.currentTarget),{method:"unfollow"})):e.login()});var c=this;d(c.wraper).hover(function(){clearTimeout(c.outtimer),c.entertimer=setTimeout(function(){c.show()},c.delay)},function(){clearTimeout(c.outtimer),c.outtimer=setTimeout(function(){c.hide()},c.delay)})}var d=a("basic/jquery"),e=a("basic/Util"),f=a("common/FloatBox/Tpl"),g=a("message/Message"),h=a("common/Log/Logger");i.prototype.hover=function(a,b){var c=this;clearTimeout(c.entertimer),c.entertimer=setTimeout(function(){c.getData(b,a)},c.delay)},i.prototype.out=function(){var a=this;clearTimeout(a.entertimer),a.outtimer=setTimeout(function(){a.hide()},a.delay)},i.prototype.cut=function(a){var a=a||"这家伙很懒，什么都没写";if(e.getLength(a)>25)return e.cutString(a,0,25)+"..";return e.encodeSpecialHtmlChar(a)},i.prototype.getData=function(a,b){var c=this;if(!c.dataPool[a])d(c.inner).addClass("cardLayer-state"),c.content.innerHTML="载入中...",d.get("/gethomeUserCard",{userId:a},function(d){if(d.status==1){var f=!1,g=!1;CONFIG.islogined&&(CONFIG.userId==d.userId&&(f=!0),g=d.isFollow);var d={anchorLevel:d.userCard.anchorLevel,anchorLevelName:e.anchor[d.userCard.anchorLevel],is_Anchor:d.userCard.is_Anchor,userLevel:d.userCard.userLevel,userLevelName:e.wealth[d.userCard.userLevel],familyId:d.userCard.familyId,nickName:d.userCard.nickName,intro:c.cut(d.userCard.intro),followedCount:d.userCard.followedCount,avatar:e.getImageUrl(d.userCard.avatar,50),roomId:d.userCard.roomId,live:d.userCard.live,province:d.userCard.province,city:d.userCard.city,area:d.userCard.area,age:d.userCard.age,star:d.userCard.star,familyBadge:d.userCard.familyBadge,familyBadgeName:d.userCard.familyBadgeName,familytrueId:d.userCard.familyWrapInfo?d.userCard.familyWrapInfo.familyId:0,badgeImageUrl:d.userCard.badgeImageUrl,boboUser:d.userCard.boboUser,boboQianYueUser:d.userCard.boboQianYueUser,vipUser:d.userCard.vipUser,basicVipUser:d.userCard.basicVipUser,sex:d.userCard.sex,userId:d.userId,isSelf:f,isFollowing:g,badgeList:d.userCard.badgeList,badgeUrlList:d.userCard.badgeUrlList,userEventIcons:d.userEventIcons,userNum:d.userCard.userNum};c.dataPool[a]=d,c.render(d,b)}else c.render("nouser",b)});else{var f=c.dataPool[a];c.render(f,b)}},i.prototype.render=function(a,b){var c=this;d(c.inner).closest(".cardLayer").addClass("js-userFloatBox"),a.length?(d(c.inner).addClass("cardLayer-state"),c.content.innerHTML="无此用户"):(d(c.inner).removeClass("cardLayer-state"),c.content.innerHTML=e.formatTemplate(f.FloatBox,a)),c.setPos(b)},i.prototype.setPos=function(a){var b=this,c=d(b.wraper).height()+10,e=364,f=b.getStrollTop(),g=d(a).width(),h=d(a).height(),i=55-Math.floor(g/2),j=43-Math.floor(h/2),k=d(a).offset();k.top-f-c>0?(b.top=k.top-c,b.addClassName("icon-card-bottom")):(b.top=k.top+10+h,b.addClassName("icon-card-top")),b.docWidth+b.docPos.left-k.left-e>0?b.left=k.left-i:(b.left=k.left-e-i,b.top=k.top-j,b.addClassName("icon-card-right")),b.options.scrollNode&&(b.top-=b.options.scrollNode.scrollTop),b.wraper.style.left=b.left+"px",b.wraper.style.top=b.top+"px",b.show()},i.prototype.hide=function(){this.wraper.style.visibility="hidden"},i.prototype.getLeft=function(){return this.left},i.prototype.show=function(){this.wraper.style.visibility="visible"},i.prototype.addClassName=function(a){d(this.arrow).addClass("png24"),d(this.arrow).removeClass("icon-card-bottom").removeClass("icon-card-top").removeClass("icon-card-right").addClass(a)},i.prototype.getStrollTop=function(){oDocument=document;return Math.max(oDocument.documentElement.scrollTop,oDocument.body.scrollTop)};var j=new i,k=d(j.wraper);d("body").delegate(".js-box","mouseover",function(){var a=this.getAttribute("userId");j.actionType=1,j.hover(this,a)}),d("body").delegate(".js-box","mouseout",function(){var a=this.getAttribute("userId");j.actionType=1,j.out(this,a)}),d("body").delegate(".js-box","click",function(){window.clicktimer&&clearTimeout(window.clicktimer),window.clicktimer=setTimeout(function(){var a=j.getLeft(),b=a-30,c=a+30;l(k,b,30,function(){l(k,c,60,function(){l(k,a,30)})})},420)});return i});define("common/FloatBox/Tpl",function(a,b,c){return{FloatBox:'<div class="cardLayer-hd">\n\t\t            <div class="cardLayer-user clearfix">\n\t\t\t         <a class="fl avatar-m" href="javascript:;"><img src="<%=avatar%>"><em></em></a>\n\t\t\t         <span class="card-wealth"><em title="<%=userLevelName%>" class="png24 medal-wealth<%=userLevel%>"></em></span>\n\t\t\t         <%if(familytrueId>0){%>\n\t\t\t         <span class="card-family"><a class="png24" href="/family/<%=familytrueId%>" data-method="family"><img src="<%=badgeImageUrl%>"/></a></span>\n\t\t\t         <%}%>\n\t\t\t         <h5><%=nickName%>\n\t\t\t         <%if(is_Anchor){%>\n\t\t\t          <em title="<%=anchorLevelName%>" class="card-anchor png24 medal-anchor<%=anchorLevel%>"></em>\n\t\t\t         <%}%>\n\t\t\t         </h5>\n\t\t\t         <p class="card-list">\n\t\t\t\t\t      <%if(boboQianYueUser){%><em class="png24 icon-dujia" title="独家签约主播"></em><%}%>\n\t\t\t\t\t      <%if(vipUser){%><em class="png24 icon-member" title="超级会员"></em><%}%>\n\t\t\t\t\t      <%if(basicVipUser){%><em class="png24 icon-member2" title="基础会员"></em><%}%>\n\t\t\t\t\t      <%if(boboUser){%><em class="png24 icon-bbk" title="波波卡用户"></em><%}%>\n\t\t\t         <%if(badgeList){%>\n\t\t\t\t      \t<%for(var i = 0; i < userEventIcons.length; i++){%>\n\t\t\t\t      \t<a href="javascript:;"><img class="png24" src="<%=userEventIcons[i].iconUrl%>"/></a>\n\t\t\t\t      \t<%}%>\n\t\t\t      \t<%}%>\n\t\t\t      \t</p>\n\t\t\t         <%if(badgeUrlList){%>\n\t\t\t      \t<p class="card-list">\n\t\t\t\t      \t<%for(var i = 0; i < badgeUrlList.length; i++){%>\n\t\t\t\t      \t<em class="png24" title="礼物周星勋章"><img src="<%=badgeUrlList[i]%>"></em>\n\t\t\t\t      \t<%}%>\n\t\t\t      \t</p>\n\t\t\t      \t<%}%>\n\t\t\t      \t</div>\n\t\t\t      \t<div class="cardLayer-info">\n\t\t\t\t      \t<p><%=sex%><i>|</i><%=age%><i>|</i><%=star%><i>|</i><%=province%>&nbsp;<%if(province=="北京市"||province=="上海市"){%><%=area%><%}else{%><%=city%><%}%><%if(is_Anchor){%><i>|</i><em class="png24 icon-personal"></em><a class="cOrange" href="/i/<%=roomId%>" target="_blank">TA的空间</a><%}%></p>\n\t\t\t\t      \t<p><%=intro%></p>\n\t\t\t      \t</div>\n\t\t         </div>\n\t            <div class="cardLayer-bd">\n\t\t            \t<span class="card-follow-info">\n\t\t\t            <%if(isSelf){%>\n\t\t\t             <span class="card-followed">\n\t\t\t             <em></em>我自己(<%=followedCount%>)\n\t\t\t            </span>\n\t\t\t            <%}else{%>\n\t\t\t             <%if(isFollowing){%>\n\t\t\t               <span class="card-followed js-cardfollowed">\n\t\t\t               <em class="png24 icon-rightG"></em>\n\t\t\t                已关注(<%=followedCount%>)|<a href="javascript://<%=userId%>" class="js-carddefollow" followcount="<%=followedCount%>">取消</a>\n\t\t\t               </span>\n\t\t\t               <a href="javascript://<%=userId%>" class="js-cardfollow" followcount="<%=followedCount%>" style="display:none">\n\t\t\t                <%var count=followedCount-1%>\n\t\t\t                <em class="png24 icon-add"></em>关注(<%=count%>)\n\t\t\t               </a>\n\t\t\t             <%}else{%>\n\t\t\t              <span class="card-followed js-cardfollowed" style="display:none">\n\t\t\t               <em class="png24 icon-rightG"></em>\n\t\t\t                <%var count=followedCount+1%>\n\t\t\t                已关注(<%=count%>)|<a href="javascript://<%=userId%>" class="js-carddefollow">取消</a>\n\t\t\t               </span>\n\t\t\t             \t<a href="javascript://<%=userId%>" class="js-cardfollow">\n\t\t\t                <em class="png24 icon-add"></em>关注(<%=followedCount%>)\n\t\t\t               </a>\n\t\t\t             <%}%>\n\t\t\t            <%}%>\n\t\t\t            <%if(!isSelf){%>\n\t\t\t             <a href="javascript://<%=userId%>" class="js-send" username="<%=nickName%>" style="margin-right:2px;"><em class="png24 icon-mailB"></em>发私信</a>\n\t\t\t            <%}%>\n\t\t\t            </span>\n\t\t\t            <%if(is_Anchor){%>\n\t\t\t            <a class="orange-btn" href="/<%=roomId%>" target="_blank" data-method="goin">进入房间</a>\n\t\t\t            <%}%>\n\t            </div>'}});define("message/Message",function(a,b,c){function j(a,b,c,g){var h=this;this.userId=a,this.name=b,this.func=c||function(a){},typeof g!="undefined"?this.isShade=g:this.isShade=!0,d(e.formatTemplate(i.message,{name:e.encodeSpecialHtmlChar(h.name)})).appendTo("body"),this.win=new f(d("#messageBox"),h.isShade,"display",!0),this.init()}var d=a("basic/jquery"),e=a("basic/Util"),f=a("common/Win"),g=a("common/Validate"),h=a("common/NaviTip"),i=a("message/Tpl");j.prototype.init=function(){var a=d("#messageInfo"),b=d("#mesError"),c=d("#mesCountWraper"),f=d("#mesErrorCountWraper"),i=d("#mesCount"),j=d("#mesErrorCount"),k=this,l=new g.Validate("#messageForm",function(){d.post("/message/send.do",{toUserId:k.userId,message:a.val()},function(a){a.status==1?(k.hide(),h.show("发送成功"),k.func(a)):a.status==2?h.show("涉及敏感词语，请重新编辑","error"):a.status==1002?h.show("亲，充值10块钱，才可以给Ta发私信哟","error"):h.show("发送失败","error")});return!1}),m=new g.ValidateItem({node:a,check:function(){var a=d.trim(this.node.val()),g=e.getLength(a);if(a==""||g>163){b.show(),f.hide(),c.hide(),this.node.focus();return!1}b.hide();return!0}});l.add(m),this.bindCheck(a,c,f,i,j,b),d("#messageSubmit").click(function(){d("#messageForm").submit()}),setTimeout(function(){a.focus()},100)},j.prototype.bindCheck=function(a,b,c,f,g,h){function j(){var d=163-e.getLength(a.val());d>=0?(b.show(),c.hide(),f.html(d)):(b.hide(),c.show(),g.html(Math.abs(d))),h.hide()}var i=this;a.bind("keyup",function(a){if(a.ctrlKey&&a.keyCode==13){a.preventDefault(),d("#messageForm").submit();return!1}if(a.keyCode==17){a.preventDefault();return!1}i.countTimer?(clearTimeout(i.countTimer),i.countTimer=setTimeout(function(){j()},100)):i.countTimer=setTimeout(function(){j()},100)})},j.prototype.show=function(){this.win.show()},j.prototype.hide=function(){this.win.hide()};return j});define("message/Tpl",function(a,b,c){return{message:'<div class="dialogLayer msgdialogLayer" id="messageBox">\n                     <div class="dialogLayer-hd">\n                        <a class="png24 btn-close js-close" href="javascript:" title="关闭"></a>\n                     </div>\n                     <div class="dialogLayer-bd">\n   \t                  <form id="messageForm">\n   \t                   <h3>私信 <strong><%=name%></strong></h3>\n   \t                   <p><textarea id="messageInfo"></textarea></p>\n   \t                   <p class="msg-send-info">\n   \t                   <span class="fl" id="mesCountWraper">还能输入<em id="mesCount">163</em>字</span>\n   \t                   <span class="fl" style="display:none" id="mesErrorCountWraper">已经超出<em id="mesErrorCount" class="cDRed"></em>字</span>\n   \t                   <span class="fl cDRed" id="mesError" style="display:none">私信内容在1到163字之间</span>\n   \t                   <a class="orange-btnS" href="javascript:" id="messageSubmit" title="发送">发送</a>\n   \t                   </p>\n   \t                  </form>\n                     </div>\n                  </div>',report:'<div class="dialogLayer repdialogLayer" id="reportBox">\n                  <div class="dialogLayer-hd">\n                     <a class="png24 btn-close js-close" href="javascript:;" title="关闭"></a>\n                  </div>\n                  <div class="dialogLayer-bd">\n   \t               <h3>你要举报</h3>\n   \t               <div class="report-msg-info">\n                        <a class="fl avatar-m"  href="javascript:;"  userId="<%=userId%>"  title="<%=name%>">\n                           <img src="<%=avatar%>"><em></em>\n                        </a>\n                        <em class="report-wealth png24 medal-wealth<%=wealthLevel%>"></em>\n   \t                  <p><%=name%>\n                           <%if(isAnchor){%>\n                           <em class="report-anchor png24 medal-anchor<%=anchorLevel%>"></em>\n                           <%}%>\n                        </p>\n   \t               </div>\n   \t               <form id="messageForm">\n   \t               <input type="hidden" value="" id="reportType"/>\n   \t               <p class="report-msg-reason clearfix">\n   \t\t               <label><input class="report-check js-reporttype" value="porn" type="checkbox">色情交易</label>\n   \t\t               <label><input class="report-check js-reporttype" value="ads" type="checkbox">垃圾广告</label>\n   \t\t               <label><input class="report-check js-reporttype" value="abuse" type="checkbox">人身攻击我</label>\n   \t\t               <label><input class="report-check js-reporttype" value="sense" type="checkbox">敏感信息</label>\n   \t\t               <label><input class="report-check js-reporttype" value="fake" type="checkbox">虚假中奖信息</label>\n   \t\t               <label><input class="report-check js-reporttype" value="other" type="checkbox">其他</label>\n   \t               </p>\n   \t               <p>\n   \t                <textarea id="reportMessage"></textarea>\n   \t                <span class="cDRed" id="reportError" style="display:none">请选择举报类型</span>\n   \t               </p>\n   \t               </form>\n   \t               <p>\n   \t               <a class="orange-btnS" href="javascript:;"  id="reportSubmit"  title="提交">提交</a>\n   \t               <a class="gray-btnS js-close" href="javascript:;" title="取消">取消</a>\n   \t               </p>\n                  </div>\n               </div>',reminder:'<%if(msgCount==0){%>\n                 <div class="message-pop-view" style="display:block">\n\t\t\t\t     <a href="/message">查看私信</a>\n\t\t\t\t     <%if(admin || leader){%>\n\t\t\t\t     <a  href="/message/team">查看家族消息<%if(familyCount>0){%>（<span class="cOrange"><%=familyCount%></span>）<%}%></a>\n\t\t\t\t     <%}%>\n\t\t\t\t     <a href="/message/system">查看系统消息<%if(sysCount>0){%>（<span class="cOrange"><%=sysCount%></span>）<%}%></a>\n\t\t\t        </div>\n\t\t\t        <%}else{%>\n\t\t\t        <div class="message-pop" style="display:block">\n\t\t\t\t        <div class="message-pop-wrapper">\n\t\t\t\t\t         <div class="message-pop-list clearfix">\n\t\t         \t         <h4>新增私信（<span class="cOrange"><%=msgCount%></span>）</h4>\n\t\t         \t         <ul>\n\t\t         \t\t         <%for(var i=0;i<popMessageSessions.length;i++){%>\n\t\t         \t\t         <%if(i<2){%>\n\t\t         \t\t         <li class="js-newmsg" toUserId="<%=popMessageSessions[i].fromUserIdStr%>">\n\t\t         \t\t\t         <a class="fl avatar-m js-boxer" userId="<%=popMessageSessions[i].fromUserIdStr%>" href="#"><img src="<%=Util.getImageUrl(popMessageSessions[i].fromUserInfo.avatar,50)%>"><em></em></a>\n\t\t         \t\t\t         <h5><span title="<%=popMessageSessions[i].fromUserInfo.nick%>"><%=cutString(popMessageSessions[i].fromUserInfo.nick,0,8)%></span>\n\t\t         \t\t\t          <%if(popMessageSessions[i].fromUserInfo.anchor){%>\n\t\t         \t\t\t           <em  title="<%=Util.anchor[popMessageSessions[i].fromUserInfo.anchorLevel]%>" class="msg-pop-anchor png24 medal-anchor<%=popMessageSessions[i].fromUserInfo.anchorLevel%>"></em>\n\t\t         \t\t\t          <%}%>\n\t\t         \t\t\t           <em title="<%=Util.wealth[popMessageSessions[i].fromUserInfo.wealthLevel]%>" class="msg-pop-wealth png24 medal-wealth<%=popMessageSessions[i].fromUserInfo.wealthLevel%>"></em>\n\t\t         \t\t\t          </h5>\n\t\t         \t\t\t         <span class="message-pop-time"><%=popMessageSessions[i].timePretty%></span>\n\t\t         \t\t\t         <span class="msg-reply"><a class="png24 btn-msg-reply js-replymsg" title="回复" href="javascript://<%=popMessageSessions[i].fromUserIdStr%>" username="<%=popMessageSessions[i].fromUserInfo.nick%>"></a><a class="btn-msg-del js-ignore" title="忽略" href="javascript://<%=popMessageSessions[i].fromUserIdStr%>"></a></span>\n\t\t         \t\t\t         <p><%=popMessageSessions[i].messageMap.msg%></p>\n\t\t         \t\t\t          <%if(i==1){%>\n\t\t         \t\t\t             <p class="msg-pop-control"><%var sb=msgCount-2; if(sb>0){%>还有<%=sb%>条<%}%><a class="cOrange" href="/message">查看全部&gt;&gt;</a></p>\n\t\t         \t\t\t          <%}%>\n\t\t         \t\t         </li>\n\t\t   \t\t         \t\t <%}%>\n\t\t         \t\t         <%}%>\n\t\t         \t         </ul>\n\t\t                  </div>\n\t                  </div>\n\t                  <%if(admin || leader){%>\n\t\t\t\t         <div class="message-pop-wrapper">\n\t\t\t\t\t         <a class="message-pop-btn" href="/message/team">查看家族消息 <%if(familyCount>0){%>（<span class="cOrange"><%=familyCount%></span>）<%}%></a>\n\t                  </div>\n\t                  <%}%>\n\t\t\t\t         <div class="message-pop-wrapper">\n\t\t\t\t\t         <a class="message-pop-btn" href="/message/system">查看系统消息<%if(sysCount>0){%>（<span class="cOrange"><%=sysCount%></span>）<%}%></a>\n\t                  </div>\n\t\t\t       </div>\n\t\t\t       <%}%>'}});define("common/nav/Edit",function(a,b,c){function h(a){this.nickNameNav=d("#nickNameNav"),this.repeatErrorTips=d("#repeatErrorTips"),this.errorTips=d("#errorTips"),this.loginEdit=d("#loginEdit"),this.userNickName=d("#userNickName"),this.loginEditSubmit=d("#loginEditSubmit"),this.nameEditForm=d("#nameEditForm"),this.loginEditCancel=d("#loginEditCancel"),this.illegalErrorTip=d("#illegalErrorTip");var b=this;b.nickNameNav.val(a);var c=new f.Validate("#nameEditForm",function(){var a=b.nickNameNav.val();d.post("/user/checkNick.do",{nick:a},function(c){c.status==1?(b.repeatErrorTips.hide(),b.illegalErrorTip.hide(),b.errorTips.hide(),d.post("/user/updateUserNick",{nick:a},function(c){c.status==1?(b.hide(),b.callback(a)):g.show(c.errorMsg,"error")})):c.status==2?(b.illegalErrorTip.show(),b.repeatErrorTips.hide(),b.errorTips.hide()):c.status==0&&(b.repeatErrorTips.show(),b.errorTips.hide(),b.illegalErrorTip.hide())});return!1}),h=new f.ValidateItem({node:b.nickNameNav,check:function(){var a=d.trim(this.node.val()),c=e.getLength(a),f=e.getleftLength(a);if(c>10||f<2){b.errorTips.show(),b.repeatErrorTips.hide();return!1}b.errorTips.hide();return!0}});c.add(h),b.loginEditSubmit.click(function(){b.nameEditForm.submit()}),b.loginEditCancel.click(function(){b.hide()}),d("body").mousedown(function(a){var c=a.target||a.srcElement;e.bubbleNodeNe(c,function(a){if(a.id=="loginEdit")return!0;return!1},function(){b.hide()})})}var d=a("basic/jquery"),e=a("basic/Util"),f=a("common/Validate"),g=a("common/NaviTip");h.prototype.hide=function(){this.loginEdit.hide()},h.prototype.callback=function(a){};return h});define("rank/GiftRank",function(a,b,c){function k(a,b,c,d){var d=d||function(){};a.animate({left:b},{duration:c,easing:"linear",complete:function(){d()}})}function h(a){this.options={wraper:d(document.body),scrollNode:null};if(a)for(var b in a)this.options[b]=a[b];this.actionType=1,this.action=function(a){},this.dataPool={},this.delay=400,this.left=0,this.top=0,this.docWidth=this.options.wraper.width(),this.docPos=this.options.wraper.offset(),this.entertimer=setTimeout(function(){},this.delay),this.outtimer=setTimeout(function(){},this.delay),this.wraper=document.createElement("div"),this.wraper.className="rank-gift-layer",this.wraper.style.visibility="hidden",this.corner=document.createElement("em"),this.corner.className="icon-rankcorner png24",this.inner=document.createElement("ul"),this.wraper.appendChild(this.corner),this.wraper.appendChild(this.inner),document.body.insertBefore(this.wraper,document.body.firstChild);var c=this;d(c.wraper).hover(function(){clearTimeout(c.outtimer),c.entertimer=setTimeout(function(){c.show()},c.delay)},function(){clearTimeout(c.outtimer),c.outtimer=setTimeout(function(){c.hide()},c.delay)})}var d=a("basic/jquery"),e=a("basic/Util"),f=a("rank/Tpl"),g=a("common/Log/Logger");h.prototype.hover=function(a,b){var c=this;clearTimeout(c.entertimer),c.entertimer=setTimeout(function(){c.getData(b,a)},c.delay)},h.prototype.out=function(){var a=this;clearTimeout(a.entertimer),a.outtimer=setTimeout(function(){a.hide()},a.delay)},h.prototype.getData=function(a,b){var c=this,e="/rank/getRankByGiftId",f=d(b).attr("data-period"),g={giftId:a,period:f},h=d(b).attr("data-method");h=="period"&&(e="/rank/getPeriodRankByGiftId",g.type=d(b).attr("data-type")),d.post(e,g,function(a){c.render(a,b)})},h.prototype.render=function(a,b){var c=this,g=[],h=a.giftRankByGiftId.length;for(var i=0;i<a.giftRankByGiftId.length;i++){var j={index:i+1},h={last:h},k=e.countChars(a.giftRankByGiftId[i].userWrapInfo.nick,14);g.push(e.formatTemplate(f.GiftItem,d.extend(a.giftRankByGiftId[i],j,h,{countNick:k})))}c.inner.innerHTML=g.join(""),c.setPos(b)},h.prototype.setPos=function(a){var b=this,c=d(a).width(),e=d(a).height(),f=d(a).offset();b.top=f.top+e+10,b.left=f.left-20,b.wraper.style.left=b.left+"px",b.wraper.style.top=b.top+"px",b.show()},h.prototype.hide=function(){this.wraper.style.visibility="hidden"},h.prototype.getLeft=function(){return this.left},h.prototype.show=function(){this.wraper.style.visibility="visible"};var i=new h,j=d(i.wraper);d("body").delegate(".js-giftrank","mouseover",function(){var a=this.getAttribute("giftId");i.actionType=1,i.hover(this,a)}),d("body").delegate(".js-giftrank","mouseout",function(){var a=this.getAttribute("giftId");i.actionType=1,i.out(this,a)});return h});define("rank/Tpl",function(a,b,c){var d=a("basic/jquery");return{GiftItem:'<li <%if(index == last || index ==3){%> class="noBorder"<%}%>>\n         <span class="fl"><i>No.<%=index%></i>\n            <%if(userWrapInfo.anchor){%>\n               <a href="/<%=userWrapInfo.roomId%>" target="_blank"><%=countNick%></a>\n            <%}else{%>\n               <%=countNick%>\n            <%}%>\n            <%if(userWrapInfo.anchor){%>\n             <em class="rank-gift-medal png24 medal-anchor<%=userWrapInfo.anchorLevel%>"></em>\n            <%}%>\n         </span>\n         <span class="rank-gift-num"><em><%=giftCount%></em>个</span>\n      </li>',starRankTop3Tpl:'<div class="fl rank-top">\n         <%for(var i = 0; i < data.length; i++){%>\n            <div class="rank-top3 <%if(i == 0){%> rank-first<%}%>">\n               <a userid="<%=data[i].userWrapInfo.userIdStr%>" href="javascript:;" class="<%if(i == 0){%> avatar-r1 js-box<%}else{%> avatar-r2 js-box<%}%>">\n                  <img src="<%=Util.getImageUrl(data[i].userWrapInfo.avatar, 58, 58)%>" />\n                  <em></em>\n               </a>\n               <%if(data[i].userWrapInfo.anchor){%>\n               <%if(data[i].room && data[i].room.liveId > 0){%>\n               <em class="png24 icon-radio" title="直播中"></em>\n               <%}%>\n               <%}%>\n               <p><a userid="<%=data[i].userWrapInfo.userIdStr%>" class="js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 12)%></a></p>\n               <%if(data[i].userWrapInfo.anchor){%>\n                  <p><em title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>" class="png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>"></em></p>\n               <%}%>\n               <em class="num-rank<%=i+1%>"></em>\n            </div>\n         <%}%>\n      </div>',starRankTop9Tpl:'<div class="fl rank-top">\n         <%for(var i = 0; i < 3; i++){%>\n            <div class="rank-top3 <%if(i == 0){%> rank-first<%}%>">\n               <a userid="<%=data[i].userWrapInfo.userIdStr%>" href="javascript:;" class="<%if(i == 0){%> avatar-r1 js-box<%}else{%> avatar-r2 js-box<%}%>">\n                  <img src="<%=Util.getImageUrl(data[i].userWrapInfo.avatar, 58, 58)%>" />\n                  <em></em>\n               </a>\n               <%if(data[i].userWrapInfo.anchor){%>\n               <%if(data[i].room && data[i].room.liveId > 0){%>\n               <em class="png24 icon-radio" title="直播中"></em>\n               <%}%>\n               <%}%>\n               <p><a userid="<%=data[i].userWrapInfo.userIdStr%>" class="js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 12)%></a></p>\n               <%if(data[i].userWrapInfo.anchor){%>\n                  <p><em title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>" class="png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>"></em></p>\n               <%}%>\n               <em class="num-rank<%=i+1%>"></em>\n            </div>\n         <%}%>\n      </div>\n      <div class="fl rank-list">\n         <%for(var i = 3; i < data.length; i++){%>\n            <p>\n               <em class="num-rank<%=i+1%>"></em>\n               <span class="rank-list-fl"><a title="<%=data[i].userWrapInfo.nick%>" userid="<%=data[i].userWrapInfo.userIdStr%>" class="fl js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 20)%></a> <%if(data[i].room){%> (<%=data[i].room.roomId%>)<%}%></span>\n               <%if(data[i].userWrapInfo.anchor){%>\n                  <em title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>" class="fr png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>"></em>\n                  <%if(data[i].room && data[i].room.liveId > 0){%><em class="fl png24 icon-radio" title="直播中"></em><%}%>\n               <%}%>\n            </p>\n         <%}%>\n      </div>',starRankTpl:'<div class="fl rank-top">\n         <%for(var i = 0; i < 3; i++){%>\n            <div class="rank-top3 <%if(i == 0){%> rank-first<%}%>">\n               <a userid="<%=data[i].userWrapInfo.userIdStr%>" href="javascript:;" class="<%if(i == 0){%> avatar-r1 js-box<%}else{%> avatar-r2 js-box<%}%>">\n                  <img src="<%=Util.getImageUrl(data[i].userWrapInfo.avatar, 58, 58)%>" />\n                  <em></em>\n               </a>\n               <%if(data[i].userWrapInfo.anchor){%>\n               <%if(data[i].room && data[i].room.liveId > 0){%>\n               <em class="png24 icon-radio" title="直播中"></em>\n               <%}%>\n               <%}%>\n               <p><a userid="<%=data[i].userWrapInfo.userIdStr%>" class="js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 12)%></a></p>\n               <%if(data[i].userWrapInfo.anchor){%>\n                  <p><em title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>" class="png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>"></em></p>\n               <%}%>\n               <em class="num-rank<%=i+1%>"></em>\n            </div>\n         <%}%></div>\n      <div class="fl rank-list">\n         <%for(var i = 3; i < 9; i++){%>\n            <p>\n               <em class="num-rank<%=i+1%>"></em>\n               <span class="rank-list-fl"><a title="<%=data[i].userWrapInfo.nick%>" userid="<%=data[i].userWrapInfo.userIdStr%>" class="fl js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 20)%></a> <%if(data[i].room){%> (<%=data[i].room.roomId%>)<%}%></span>\n               <%if(data[i].userWrapInfo.anchor){%>\n                  <em title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>" class="fr png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>"></em>\n                  <%if(data[i].room && data[i].room.liveId > 0){%><em class="fl png24 icon-radio" title="直播中"></em><%}%>\n               <%}%>\n            </p>\n         <%}%>\n      </div>\n      <div class="fr rank-list rank-last">\n         <%for(var i = 9; i < data.length; i++){%>\n            <p>\n               <em class="num-rank<%=i+1%>"></em>\n               <span class="rank-list-fl"><a title="<%=data[i].userWrapInfo.nick%>" userid="<%=data[i].userWrapInfo.userIdStr%>" class="fl js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 20)%></a> <%if(data[i].room){%> (<%=data[i].room.roomId%>)<%}%></span>\n               <%if(data[i].userWrapInfo.anchor){%>\n                  <em title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>" class="fr png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>"></em>\n                  <%if(data[i].room && data[i].room.liveId > 0){%><em class="fl png24 icon-radio" title="直播中"></em><%}%>\n               <%}%>\n            </p>\n         <%}%>\n      </div>',wealthRankTop3Tpl:'<div class="fl rank-top">\n         <%for(var i = 0; i < data.length; i++){%>\n            <div class="rank-top3 <%if(i == 0){%> rank-first<%}%>">\n               <a userid="<%=data[i].userWrapInfo.userIdStr%>" href="javascript:;" class="<%if(i == 0){%> avatar-r1 js-box<%}else{%> avatar-r2 js-box<%}%>">\n                  <img src="<%=Util.getImageUrl(data[i].userWrapInfo.avatar, 58, 58)%>" />\n                  <em></em>\n               </a>\n               <p><a userid="<%=data[i].userWrapInfo.userIdStr%>" class="js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 12)%></a></p>\n               <p><em class="png24 medal-wealth<%=data[i].userWrapInfo.wealthLevel%>"></em></p>\n               <em class="num-rank<%=i+1%>"></em>\n            </div>\n         <%}%>\n      </div>',wealthRankTop9Tpl:'<div class="fl rank-top">\n         <%for(var i = 0; i < 3; i++){%>\n            <div class="rank-top3 <%if(i == 0){%> rank-first<%}%>">\n               <a userid="<%=data[i].userWrapInfo.userIdStr%>" href="javascript:;" class="<%if(i == 0){%> avatar-r1 js-box<%}else{%> avatar-r2 js-box<%}%>">\n                  <img src="<%=Util.getImageUrl(data[i].userWrapInfo.avatar, 58, 58)%>" />\n                  <em></em>\n               </a>\n               <p><a userid="<%=data[i].userWrapInfo.userIdStr%>" class="js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 12)%></a></p>\n               <p><em class="png24 medal-wealth<%=data[i].userWrapInfo.wealthLevel%>"></em></p>\n               <em class="num-rank<%=i+1%>"></em>\n            </div>\n         <%}%>\n      </div>\n      <div class="fl rank-list">\n         <%for(var i = 3; i < data.length; i++){%>\n            <p>\n               <em class="num-rank<%=i+1%>"></em>\n               <span class="rank-list-fl"><a title="<%=data[i].userWrapInfo.nick%>" userid="<%=data[i].userWrapInfo.userIdStr%>" class="fl js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 20)%></a> <%if(data[i].room){%> (<%=data[i].room.roomId%>)<%}%></span>\n               <em class="fr png24 medal-wealth<%=data[i].userWrapInfo.wealthLevel%>"></em>\n            </p>\n         <%}%>\n      </div>',wealthRankTpl:'<div class="fl rank-top">\n         <%for(var i = 0; i < 3; i++){%>\n            <div class="rank-top3 <%if(i == 0){%> rank-first<%}%>">\n               <a userid="<%=data[i].userWrapInfo.userIdStr%>" href="javascript:;" class="<%if(i == 0){%> avatar-r1 js-box<%}else{%> avatar-r2 js-box<%}%>">\n                  <img src="<%=Util.getImageUrl(data[i].userWrapInfo.avatar, 58, 58)%>" />\n                  <em></em>\n               </a>\n               <p><a userid="<%=data[i].userWrapInfo.userIdStr%>" class="js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 12)%></a></p>\n               <p><em class="png24 medal-wealth<%=data[i].userWrapInfo.wealthLevel%>"></em></p>\n               <em class="num-rank<%=i+1%>"></em>\n            </div>\n         <%}%></div>\n      <div class="fl rank-list rank-wealth-list">\n         <%for(var i = 3; i < 9; i++){%>\n            <p>\n               <em class="num-rank<%=i+1%>"></em>\n               <span class="rank-list-fl"><a title="<%=data[i].userWrapInfo.nick%>" userid="<%=data[i].userWrapInfo.userIdStr%>" class="fl js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 20)%></a> <%if(data[i].room){%> (<%=data[i].room.roomId%>)<%}%></span>\n               <em class="fr png24 medal-wealth<%=data[i].userWrapInfo.wealthLevel%>"></em>\n            </p>\n         <%}%>\n      </div>\n      <div class="fr rank-list rank-wealth-list rank-last">\n         <%for(var i = 9; i < data.length; i++){%>\n            <p>\n               <em class="num-rank<%=i+1%>"></em>\n               <span class="rank-list-fl"><a title="<%=data[i].userWrapInfo.nick%>" userid="<%=data[i].userWrapInfo.userIdStr%>" class="fl js-box" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 20)%></a> <%if(data[i].room){%> (<%=data[i].room.roomId%>)<%}%></span>\n               <em class="fr png24 medal-wealth<%=data[i].userWrapInfo.wealthLevel%>"></em>\n            </p>\n         <%}%>\n      </div>',giftRankTop3Tpl:'<div class="fl rank-top rank-gift-top">\n         <%for(var i = 0; i < data.length; i++){%>\n            <div class="rank-top3 <%if(i == 0){%> rank-first<%}%>">\n               <em class="num-rank<%=i+1%>"></em>\n               <a href="javascript:;" class="<%if(i == 0){%> avatar-r1<%}else{%>avatar-r2<%}%>">\n                  <img src="<%=Util.getImageUrl(data[i].gift.imageUrl, 58, 58)%>"><em></em>\n               </a>\n               <p class="rank-gift">\n                  <a title="<%=data[i].gift.name%>" href="javascript:;"><%=Util.countChars(data[i].gift.name, 10)%><span class="cGray"><%=data[i].giftCount%></span></a>\n               </p>\n               <p><a giftid="<%=data[i].gift.giftId%>" data-period="<%=period%>" href="javascript:;" class="icon-rank2 png24 js-giftrank"></a></p>\n               <p class="rank-gift-line"><a class="js-box" userid="<%=data[i].userWrapInfo.userIdStr%>" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 12)%></a></p>\n               <%if(data[i].userWrapInfo.anchor){%>\n               <p><em class="png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>" title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>"></em></p>\n               <%}%>\n            </div>\n         <%}%>\n      </div>',giftRankTop9Tpl:'<div class="fl rank-top rank-gift-top">\n         <%for(var i = 0; i < 3; i++){%>\n            <div class="rank-top3 <%if(i == 0){%> rank-first<%}%>">\n               <em class="num-rank<%=i+1%>"></em>\n               <a href="javascript:;" class="<%if(i == 0){%> avatar-r1<%}else{%>avatar-r2<%}%>">\n                  <img src="<%=Util.getImageUrl(data[i].gift.imageUrl, 58, 58)%>"><em></em>\n               </a>\n               <p class="rank-gift">\n                  <a title="<%=data[i].gift.name%>" href="javascript:;"><%=Util.countChars(data[i].gift.name, 10)%><span class="cGray"><%=data[i].giftCount%></span></a>\n               </p>\n               <p><a giftid="<%=data[i].gift.giftId%>" data-period="<%=period%>" href="javascript:;" class="icon-rank2 png24 js-giftrank"></a></p>\n               <p class="rank-gift-line"><a class="js-box" userid="<%=data[i].userWrapInfo.userIdStr%>" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 12)%></a></p>\n               <%if(data[i].userWrapInfo.anchor){%>\n               <p><em class="png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>" title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>"></em></p>\n               <%}%>\n            </div>\n         <%}%></div>\n      <div class="fl rank-list rank-gift-list">\n         <%for(var i = 3; i < data.length; i++){%>\n            <p>\n               <em class="num-rank<%=i+1%>"></em>\n               <span class="fl cDGray" title="<%=data[i].gift.name%>"><%=Util.countChars(data[i].gift.name, 10)%><span class="cGray"><%=data[i].giftCount%></span></span>\n               <a href="javascript:;" giftid="<%=data[i].gift.giftId%>" data-period="<%=period%>" class="fl icon-rank3 png24 js-giftrank"></a>\n               <%if(data[i].userWrapInfo.anchor){%>\n               <em title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>" class="fr png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>"></em>\n               <%}%>\n               <a href="javascript:;" title="<%=data[i].userWrapInfo.nick%>" userid="<%=data[i].userWrapInfo.userIdStr%>" class="fr js-box"><%=Util.countChars(data[i].userWrapInfo.nick, 10)%></a>\n            </p>\n         <%}%>\n      </div>',giftRankTpl:'<div class="fl rank-top rank-gift-top">\n         <%for(var i = 0; i < 3; i++){%>\n            <div class="rank-top3 <%if(i == 0){%> rank-first<%}%>">\n               <em class="num-rank<%=i+1%>"></em>\n               <a href="javascript:;" class="<%if(i == 0){%> avatar-r1<%}else{%>avatar-r2<%}%>">\n                  <img src="<%=Util.getImageUrl(data[i].gift.imageUrl, 58, 58)%>"><em></em>\n               </a>\n               <p class="rank-gift">\n                  <a title="<%=data[i].gift.name%>" href="javascript:;"><%=Util.countChars(data[i].gift.name, 10)%><span class="cGray"><%=data[i].giftCount%></span></a>\n               </p>\n               <p><a giftid="<%=data[i].gift.giftId%>" data-period="<%=period%>" href="javascript:;" class="icon-rank2 png24 js-giftrank"></a></p>\n               <p class="rank-gift-line"><a class="js-box" userid="<%=data[i].userWrapInfo.userIdStr%>" href="javascript:;"><%=Util.countChars(data[i].userWrapInfo.nick, 12)%></a></p>\n               <%if(data[i].userWrapInfo.anchor){%>\n               <p><em class="png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>" title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>"></em></p>\n               <%}%>\n            </div>\n         <%}%></div>\n      <div class="fl rank-list rank-gift-list">\n         <%for(var i = 3; i < 9; i++){%>\n            <p>\n               <em class="num-rank<%=i+1%>"></em>\n               <span class="fl cDGray" title="<%=data[i].gift.name%>"><%=Util.countChars(data[i].gift.name, 10)%><span class="cGray"><%=data[i].giftCount%></span></span>\n               <a href="javascript:;" giftid="<%=data[i].gift.giftId%>" data-period="<%=period%>" class="fl icon-rank3 png24 js-giftrank"></a>\n               <%if(data[i].userWrapInfo.anchor){%>\n               <em title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>" class="fr png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>"></em>\n               <%}%>\n               <a href="javascript:;" title="<%=data[i].userWrapInfo.nick%>" userid="<%=data[i].userWrapInfo.userIdStr%>" class="fr js-box"><%=Util.countChars(data[i].userWrapInfo.nick, 10)%></a>\n            </p>\n         <%}%>\n      </div>\n      <div class="fr rank-list rank-last rank-gift-list">\n         <%for(var i = 9; i < data.length; i++){%>\n            <p>\n               <em class="num-rank<%=i+1%>"></em>\n               <span class="fl cDGray" title="<%=data[i].gift.name%>"><%=Util.countChars(data[i].gift.name, 10)%><span class="cGray"><%=data[i].giftCount%></span></span>\n               <a href="javascript:;" giftid="<%=data[i].gift.giftId%>" data-period="<%=period%>" class="fl icon-rank3 png24 js-giftrank"></a>\n               <%if(data[i].userWrapInfo.anchor){%>\n               <em title="<%=Util.anchor[data[i].userWrapInfo.anchorLevel]%>" class="fr png24 medal-anchor<%=data[i].userWrapInfo.anchorLevel%>"></em>\n               <%}%>\n               <a href="javascript:;" title="<%=data[i].userWrapInfo.nick%>" userid="<%=data[i].userWrapInfo.userIdStr%>" class="fr js-box"><%=Util.countChars(data[i].userWrapInfo.nick, 10)%></a>\n            </p>\n         <%}%>\n      </div>'}});define("rank/RankTab",function(a,b,c){var d=a("basic/jquery"),e=a("basic/oop/Class"),f=a("basic/Util"),g=a("rank/Tpl"),h=e.extend({init:function(a){this.$elem=d(a),this.$content=this.$elem.find(".js-content"),this.$selfRank=this.$elem.find(".selfRank"),this.period=1,this.url=this.$elem.attr("data-url"),this.type=this.$elem.attr("data-type"),this.bindEvent(),this.getData()},bindEvent:function(){this.$elem.delegate(".js-tab","click",d.proxy(this.onTab,this))},onTab:function(a){a.preventDefault();var b=d(a.currentTarget);b.hasClass("cur")||(b.addClass("cur").siblings().removeClass("cur"),this.period=b.attr("data-period"),this.getData())},getData:function(){if(!d.isPlainObject(this.Request)||this.Request.readyState===4){var a=this;d.ajax({type:"POST",url:this.url,data:{period:this.period},dataType:"json",success:function(b){a.type=="gift"?a.render(b.data.giftRankUser):(a.render(b.data.rankUser),a.renderSelfRank(b.data.selfRank))},error:function(){}})}},render:function(a){var b=this;if(b.type=="star")if(a.length<4)var c=f.formatTemplate(g.starRankTop3Tpl,{data:a,Util:f});else if(a.length<10)var c=f.formatTemplate(g.starRankTop9Tpl,{data:a,Util:f});else var c=f.formatTemplate(g.starRankTpl,{data:a,Util:f});else if(b.type=="wealth")if(a.length<4)var c=f.formatTemplate(g.wealthRankTop3Tpl,{data:a,Util:f});else if(a.length<10)var c=f.formatTemplate(g.wealthRankTop9Tpl,{data:a,Util:f});else var c=f.formatTemplate(g.wealthRankTpl,{data:a,Util:f});else if(b.type=="gift")if(a.length<4)var c=f.formatTemplate(g.giftRankTop3Tpl,{data:a,Util:f,period:b.period});else if(a.length<10)var c=f.formatTemplate(g.giftRankTop9Tpl,{data:a,Util:f,period:b.period});else var c=f.formatTemplate(g.giftRankTpl,{data:a,Util:f,period:b.period});this.$content.html(c)},renderSelfRank:function(a){a?a<=100?this.$selfRank.html("你目前处于第"+a+"位"):this.$selfRank.html("你目前处在榜单之外"):this.$selfRank.html("你目前处在榜单之外")}});new h("#starRank"),new h("#wealthRank"),new h("#giftRank")});define("page/rank",function(a,b,c){var d=a("common/nav/Nav"),e=a("rank/GiftRank"),f=a("rank/RankTab")});